{
  "version": 1,
  "entries": [
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_0da31f32eecc",
      "file": "src/app-server/client.ts",
      "line": 66,
      "col": 32,
      "snippet": "return { method, id, params } as RequestFor<M>;",
      "context": "prev:): RequestFor<M> { | next:}"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_819ef57bde58",
      "file": "src/component/deletionCascade.ts",
      "line": 24,
      "col": 60,
      "snippet": "await Promise.all(docs.map((doc) => ctx.db.delete(doc._id as never)));",
      "context": "prev:} | next:return docs.length;"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_9ef28baf7bd9",
      "file": "src/component/deletionUtils.ts",
      "line": 40,
      "col": 49,
      "snippet": "const parsed = JSON.parse(deletedCountsJson) as unknown;",
      "context": "prev:try { | next:if (!parsed || typeof parsed !== \"object\" || Array.isArray(parsed)) {"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_e8f9443fce34",
      "file": "src/component/deletionUtils.ts",
      "line": 59,
      "col": 49,
      "snippet": "const parsed = JSON.parse(deletedCountsJson) as unknown;",
      "context": "prev:try { | next:if (!parsed || typeof parsed !== \"object\" || Array.isArray(parsed)) {"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_f4f1bcfff226",
      "file": "src/component/pagination.ts",
      "line": 18,
      "col": 30,
      "snippet": "return JSON.parse(cursor) as T;",
      "context": "prev:try { | next:} catch (error) {"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_51a0a9a99d38",
      "file": "src/component/threads.ts",
      "line": 90,
      "col": 41,
      "snippet": "const parsed = JSON.parse(payloadJson) as unknown;",
      "context": "prev:function parseChunkPayload(payloadJson: string): InboundEvent[] { | next:if (!Array.isArray(parsed)) {"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_4d8c8062209f",
      "file": "src/component/threads.ts",
      "line": 94,
      "col": 16,
      "snippet": "return parsed as InboundEvent[];",
      "context": "prev:} | next:}"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_09bb2861d310",
      "file": "src/component/threads.ts",
      "line": 141,
      "col": 27,
      "snippet": "const params = (parsed as { params?: unknown }).params;",
      "context": "prev:} | next:if (typeof params !== \"object\" || params === null) {"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_84b6743126db",
      "file": "src/component/threads.ts",
      "line": 145,
      "col": 25,
      "snippet": "const item = (params as { item?: unknown }).item;",
      "context": "prev:} | next:if (typeof item !== \"object\" || item === null) {"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_bb8607beade3",
      "file": "src/component/threads.ts",
      "line": 149,
      "col": 28,
      "snippet": "const messageId = (item as { id?: unknown }).id;",
      "context": "prev:} | next:const turnId = (params as { turnId?: unknown }).turnId;"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_4075ad9fb481",
      "file": "src/component/threads.ts",
      "line": 150,
      "col": 27,
      "snippet": "const turnId = (params as { turnId?: unknown }).turnId;",
      "context": "prev:const messageId = (item as { id?: unknown }).id; | next:const itemType = normalizeSyncMessageItemType((item as { type?: unknown }).type);"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_293eaa2c19a3",
      "file": "src/component/threads.ts",
      "line": 151,
      "col": 56,
      "snippet": "const itemType = normalizeSyncMessageItemType((item as { type?: unknown }).type);",
      "context": "prev:const turnId = (params as { turnId?: unknown }).turnId; | next:if ("
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_22236192fc77",
      "file": "src/component/threads.ts",
      "line": 189,
      "col": 26,
      "snippet": "const turnId = (value as { turnId?: unknown }).turnId;",
      "context": "prev:} | next:const messageId = (value as { messageId?: unknown }).messageId;"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_ced81302b01e",
      "file": "src/component/threads.ts",
      "line": 190,
      "col": 29,
      "snippet": "const messageId = (value as { messageId?: unknown }).messageId;",
      "context": "prev:const turnId = (value as { turnId?: unknown }).turnId; | next:if (typeof turnId !== \"string\" || typeof messageId !== \"string\") {"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_b54fedcf4004",
      "file": "src/component/threads.ts",
      "line": 807,
      "col": 53,
      "snippet": "syncState: (binding.syncState ?? \"unsynced\") as SyncState,",
      "context": "prev:: {}), | next:lastSyncedCursor: Number(binding.lastSyncedCursor ?? 0),"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_798fc9d801db",
      "file": "src/component/threads.ts",
      "line": 810,
      "col": 86,
      "snippet": "...(binding.syncJobState !== undefined ? { syncJobState: binding.syncJobState as BindingSyncJobState } : {}),",
      "context": "prev:...(currentSyncJobId !== undefined ? { syncJobId: currentSyncJobId } : {}), | next:...(binding.syncJobPolicyVersion !== undefined ? { syncJobPolicyVersion: Number(binding.syncJobPolicyVersion) } : {}),"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_3b5b34394959",
      "file": "src/component/threads.ts",
      "line": 854,
      "col": 49,
      "snippet": "? { syncJobState: binding.syncJobState as BindingSyncJobState }",
      "context": "prev:: binding.syncJobState !== undefined | next:: {}),"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_fa6f7396a01b",
      "file": "src/component/threads.ts",
      "line": 2114,
      "col": 55,
      "snippet": "const parsed = JSON.parse(event.payloadJson) as { streamId?: unknown };",
      "context": "prev:try { | next:if (typeof parsed.streamId === \"string\") {"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_588e7c71b337",
      "file": "src/component/tokenUsage.ts",
      "line": 51,
      "col": 57,
      "snippet": "// (for example runtime placeholder turn ids). Treat as best-effort.",
      "context": "prev:// Token usage can arrive before the persisted turn record is available | next:if (!turn) {"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_b7420ba788a0",
      "file": "src/host/convexSlice.ts",
      "line": 497,
      "col": 23,
      "snippet": "const record = value as Record<string, unknown>;",
      "context": "prev:} | next:return ("
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_04b0b409a61b",
      "file": "src/host/convexSlice.ts",
      "line": 509,
      "col": 29,
      "snippet": "const streamStats = (state as { streamStats?: unknown[] | null }).streamStats;",
      "context": "prev:} | next:return Array.isArray(streamStats) ? streamStats : null;"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_2a0ca5600914",
      "file": "src/host/convexSlice.ts",
      "line": 517,
      "col": 32,
      "snippet": "const recentMessages = (state as { recentMessages?: DurableHistoryMessage[] | null }).recentMessages;",
      "context": "prev:} | next:return Array.isArray(recentMessages) ? recentMessages : null;"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_b5a6cdf49ed2",
      "file": "src/host/convexSlice.ts",
      "line": 525,
      "col": 28,
      "snippet": "const allStreams = (state as { allStreams?: Array<{ streamId: string }> | null }).allStreams;",
      "context": "prev:} | next:return Array.isArray(allStreams) ? allStreams : null;"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_ca9ab1547c75",
      "file": "src/host/definitions/convexPresetMutations.ts",
      "line": 9,
      "col": 16,
      "snippet": "ensureSession as ensureSessionHandler,",
      "context": "prev:cancelConversationSyncJobForActor, | next:ensureConversationBindingByResolve,"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_0b123dd2c176",
      "file": "src/host/persistence/convex/convexPersistence.ts",
      "line": 147,
      "col": 9,
      "snippet": "}) as { threadId: string; created?: boolean; rebindApplied?: boolean };",
      "context": "prev:...(args.cwd ? { cwd: args.cwd } : {}), | next:if (opened.rebindApplied) {"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_55eed7ba416b",
      "file": "src/host/persistence/convex/convexPersistence.ts",
      "line": 171,
      "col": 9,
      "snippet": "}) as { sessionId: string; threadId: string; status: \"created\" | \"active\" };",
      "context": "prev:lastEventCursor: args.lastEventCursor, | next:await client.mutation(chatApi.markConversationSyncProgress, {"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_f3a7b1e7edae",
      "file": "src/host/persistence/convex/convexPersistence.ts",
      "line": 185,
      "col": 113,
      "snippet": "client.mutation(chatApi.ingestBatch, toIngestPayload(args.actor, sessionId, args.threadId, args.deltas)) as Promise<{",
      "context": "prev:const runIngest = async (sessionId: string) => | next:status: \"ok\" | \"partial\" | \"session_recovered\" | \"rejected\";"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_3a3968d6b9d4",
      "file": "src/host/persistence/convex/convexPersistence.ts",
      "line": 268,
      "col": 9,
      "snippet": "}) as {",
      "context": "prev:...(args.threadId !== undefined ? { threadId: args.threadId } : {}), | next:sourceId: string;"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_6c2f8dc409c5",
      "file": "src/host/persistence/convex/convexPersistence.ts",
      "line": 289,
      "col": 9,
      "snippet": "}) as Promise<{ sourceId: string; chunkIndex: number; appended: boolean }>,",
      "context": "prev:byteSize: args.byteSize, | next:sealConversationSyncSource: async (args) =>"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_ae8178c0da56",
      "file": "src/host/persistence/convex/convexPersistence.ts",
      "line": 298,
      "col": 9,
      "snippet": "}) as Promise<{",
      "context": "prev:...(args.expectedMessageCount !== undefined ? { expectedMessageCount: args.expectedMessageCount } : {}), | next:sourceId: string;"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_4362b2268392",
      "file": "src/host/persistence/convex/convexPersistence.ts",
      "line": 312,
      "col": 9,
      "snippet": "}) as Promise<{ jobId: string; state: \"syncing\" | \"synced\" | \"failed\" | \"cancelled\"; cancelled: boolean }>,",
      "context": "prev:...(args.errorMessage !== undefined ? { errorMessage: args.errorMessage } : {}), | next:getConversationSyncJob: async (args) =>"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_d3c905a7e0e4",
      "file": "src/host/persistence/convex/convexPersistence.ts",
      "line": 319,
      "col": 9,
      "snippet": "}) as Promise<{",
      "context": "prev:...(args.jobId !== undefined ? { jobId: args.jobId } : {}), | next:jobId: string;"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_f11ebdf10aa1",
      "file": "src/host/persistence/convex/convexPersistence.ts",
      "line": 346,
      "col": 11,
      "snippet": "}) as {",
      "context": "prev:jobId: args.jobId, | next:jobId: string;"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_7e6fc44c1d8c",
      "file": "src/host/persistence/convex/convexPersistence.ts",
      "line": 366,
      "col": 35,
      "snippet": "const requestedAt = (request as { createdAt?: number }).createdAt;",
      "context": "prev:upsertPendingServerRequest: async ({ actor, request }) => { | next:await client.mutation(chatApi.upsertPendingServerRequest, {"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_8519bc789bf3",
      "file": "src/host/persistence/convex/convexPersistence.ts",
      "line": 403,
      "col": 9,
      "snippet": "}) as Promise<HostRuntimePersistence[\"listPendingServerRequests\"] extends (...a: never[]) => infer R ? Awaited<R> : never>;",
      "context": "prev:limit: 100, | next:},"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_93f69d7f6b8a",
      "file": "src/host/persistence/convex/convexPersistence.ts",
      "line": 414,
      "col": 9,
      "snippet": "}) as { dispatchId: string; turnId: string; accepted: true };",
      "context": "prev:...(args.dispatchId ? { dispatchId: args.dispatchId } : {}), | next:const claimToken = randomSessionId();"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_2918623de4d5",
      "file": "src/host/runtime/runtime.ts",
      "line": 461,
      "col": 59,
      "snippet": "const { ConvexHttpClient } = require(\"convex/browser\") as { ConvexHttpClient: new (url: string) => { mutation: (...a: unknown[]) => Promise<unknown>; query: (...a: unknown[]) => Promise<unknown> } };",
      "context": "prev:if (isConvexIntegrated(args)) { | next:const client = new ConvexHttpClient(args.convexUrl);"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_cc70d091b257",
      "file": "src/host/runtime/runtime.ts",
      "line": 805,
      "col": 31,
      "snippet": "const params = (parsed as { params?: unknown }).params;",
      "context": "prev:} | next:if (typeof params !== \"object\" || params === null) {"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_892a9a052012",
      "file": "src/host/runtime/runtime.ts",
      "line": 809,
      "col": 29,
      "snippet": "const item = (params as { item?: unknown }).item;",
      "context": "prev:} | next:if (typeof item !== \"object\" || item === null) {"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_cf5c68a30bb4",
      "file": "src/host/runtime/runtime.ts",
      "line": 813,
      "col": 55,
      "snippet": "const itemType = normalizeImportItemType((item as { type?: unknown }).type);",
      "context": "prev:} | next:if (!itemType || !isRenderableImportMessageType(itemType)) {"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_50ca2bb01bf4",
      "file": "src/host/runtime/runtimeCore.ts",
      "line": 37,
      "col": 38,
      "snippet": "clearPendingServerRequestRetryTimer as clearRetryTimer,",
      "context": "prev:import { | next:enqueuePendingServerRequestRetry,"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_6c27132a4db8",
      "file": "src/host/runtime/runtimeCore.ts",
      "line": 39,
      "col": 13,
      "snippet": "flushQueue as flushQueueHandler,",
      "context": "prev:enqueuePendingServerRequestRetry, | next:handleBridgeEvent as bridgeEventHandler,"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_3c2a90037361",
      "file": "src/host/runtime/runtimeCore.ts",
      "line": 40,
      "col": 20,
      "snippet": "handleBridgeEvent as bridgeEventHandler,",
      "context": "prev:flushQueue as flushQueueHandler, | next:handleBridgeGlobalMessage as bridgeGlobalHandler,"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_434747fac470",
      "file": "src/host/runtime/runtimeCore.ts",
      "line": 41,
      "col": 28,
      "snippet": "handleBridgeGlobalMessage as bridgeGlobalHandler,",
      "context": "prev:handleBridgeEvent as bridgeEventHandler, | next:type HandlerCtx,"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_1c575836e344",
      "file": "src/host/runtime/runtimeCoreHandlers.ts",
      "line": 199,
      "col": 21,
      "snippet": "const obj = parsed as Record<string, unknown>;",
      "context": "prev:if (typeof parsed !== \"object\" || parsed === null || !(\"method\" in parsed)) return null; | next:if (obj.method !== \"item/agentMessage/delta\") return null;"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_6e8134422081",
      "file": "src/host/runtime/runtimeHelpers.ts",
      "line": 37,
      "col": 62,
      "snippet": "return typeof value === \"object\" && value !== null ? (value as Record<string, unknown>) : null;",
      "context": "prev:export function asObject(value: unknown): Record<string, unknown> | null { | next:}"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_552f395a0796",
      "file": "src/host/tauri.ts",
      "line": 3,
      "col": 33,
      "snippet": "import type { LoginAccountParams as ProtocolLoginAccountParams } from \"../protocol/schemas/v2/LoginAccountParams.js\";",
      "context": "prev:import type { FileChangeApprovalDecision } from \"../protocol/schemas/v2/FileChangeApprovalDecision.js\"; | next:import type { ToolRequestUserInputAnswer } from \"../protocol/schemas/v2/ToolRequestUserInputAnswer.js\";"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_42e66eb43cb2",
      "file": "src/host/tauri.ts",
      "line": 428,
      "col": 34,
      "snippet": "const parsed = JSON.parse(line) as { type?: unknown; payload?: unknown };",
      "context": "prev:export function parseHelperCommand(line: string): HelperCommand { | next:if (typeof parsed !== \"object\" || parsed === null) {"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_55861db3a58c",
      "file": "src/host/tauri.ts",
      "line": 432,
      "col": 82,
      "snippet": "if (typeof parsed.type !== \"string\" || !HELPER_COMMAND_TYPE_SET.has(parsed.type as HelperCommandType)) {",
      "context": "prev:} | next:throw new Error(`Unsupported helper command: ${String(parsed.type)}`);"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_2a9aaee19f0f",
      "file": "src/host/tauri.ts",
      "line": 436,
      "col": 33,
      "snippet": "return { type: parsed.type } as HelperCommand;",
      "context": "prev:if (parsed.type === \"interrupt\" || parsed.type === \"stop\" || parsed.type === \"status\") { | next:}"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_5cf7482544d0",
      "file": "src/host/tauri.ts",
      "line": 441,
      "col": 16,
      "snippet": "return parsed as HelperCommand;",
      "context": "prev:} | next:}"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_6e20814ef7a2",
      "file": "src/host/tauri.ts",
      "line": 517,
      "col": 43,
      "snippet": "const debugFlag = Reflect.get(globalThis as Record<string, unknown>, \"__CODEX_SYNC_DEBUG__\");",
      "context": "prev:function syncDebugEnabled(): boolean { | next:return debugFlag === true;"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_2ea8af3a9fe5",
      "file": "src/host/tauri.ts",
      "line": 787,
      "col": 61,
      "snippet": "? { syncJobId: Reflect.get(payload, \"syncJobId\") as string }",
      "context": "prev:...(typeof Reflect.get(payload, \"syncJobId\") === \"string\" | next:: existing?.syncJobId !== undefined"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_b639dc220185",
      "file": "src/host/tauri.ts",
      "line": 792,
      "col": 86,
      "snippet": "? { syncJobState: parseSyncJobState(Reflect.get(payload, \"syncJobState\")) as TauriSyncJobState }",
      "context": "prev:...(parseSyncJobState(Reflect.get(payload, \"syncJobState\")) | next:: existing?.syncJobState !== undefined"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_21fef0adedeb",
      "file": "src/host/tauri.ts",
      "line": 797,
      "col": 83,
      "snippet": "? { syncJobPolicyVersion: Reflect.get(payload, \"syncJobPolicyVersion\") as number }",
      "context": "prev:...(typeof Reflect.get(payload, \"syncJobPolicyVersion\") === \"number\" | next:: existing?.syncJobPolicyVersion !== undefined"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_836fdf712901",
      "file": "src/host/tauri.ts",
      "line": 802,
      "col": 63,
      "snippet": "? { lastCursor: Reflect.get(payload, \"lastCursor\") as number }",
      "context": "prev:...(typeof Reflect.get(payload, \"lastCursor\") === \"number\" | next:: existing?.lastCursor !== undefined"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_242404ffb924",
      "file": "src/protocol/events.ts",
      "line": 160,
      "col": 14,
      "snippet": "return item as ThreadItem;",
      "context": "prev:} | next:}"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_8c118b97a0ad",
      "file": "src/protocol/events.ts",
      "line": 185,
      "col": 25,
      "snippet": "const message = parsed as ServerInboundMessage;",
      "context": "prev:} | next:payloadMessageCache.set(payloadJson, message);"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_e8a823cb640b",
      "file": "src/protocol/events.ts",
      "line": 345,
      "col": 17,
      "snippet": "return message as Extract<ServerInboundMessage, { method: M }>;",
      "context": "prev:} | next:}"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_f30747ee954f",
      "file": "src/protocol/events.ts",
      "line": 478,
      "col": 32,
      "snippet": "const params = message.params as Record<string, unknown>;",
      "context": "prev:} | next:if (typeof params.threadId === \"string\") {"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_e6d80c7c3075",
      "file": "src/protocol/events.ts",
      "line": 510,
      "col": 22,
      "snippet": "? (message.params as Record<string, unknown>)",
      "context": "prev:const params = isMessageRecord(message.params) | next:: null;"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_84e3c4ef1470",
      "file": "src/protocol/events.ts",
      "line": 682,
      "col": 22,
      "snippet": "? (message.params as Record<string, unknown>)",
      "context": "prev:const params = isMessageRecord(message.params) | next:: null;"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_a647c42c19d4",
      "file": "src/protocol/events.ts",
      "line": 813,
      "col": 24,
      "snippet": "? (message.params as Record<string, unknown>)",
      "context": "prev:const params = isMessageRecord(message.params) | next:: null;"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_b5e47f8bb29e",
      "file": "src/protocol/events.ts",
      "line": 835,
      "col": 24,
      "snippet": "? (message.params as Record<string, unknown>)",
      "context": "prev:const params = isMessageRecord(message.params) | next:: null;"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_35b45dd66381",
      "file": "src/protocol/parser.ts",
      "line": 21,
      "col": 62,
      "snippet": "return typeof value === \"object\" && value !== null ? (value as Record<string, unknown>) : null;",
      "context": "prev:function asObject(value: unknown): Record<string, unknown> | null { | next:}"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_7913992cad6c",
      "file": "src/protocol/parser.ts",
      "line": 29,
      "col": 26,
      "snippet": "return validator.errors as AjvError[] | null | undefined;",
      "context": "prev:function validatorErrors(validator: { errors?: unknown }): AjvError[] | null | undefined { | next:}"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_df61dafac1e1",
      "file": "src/react/codexOptimistic.ts",
      "line": 78,
      "col": 21,
      "snippet": "return (resolver as (args: FunctionArgs<Mutation>) => FunctionArgs<Query>)(mutationArgs);",
      "context": "prev:if (typeof resolver === \"function\") { | next:}"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_af3c9ea778ec",
      "file": "src/react/codexOptimistic.ts",
      "line": 113,
      "col": 17,
      "snippet": "return value as Item[];",
      "context": "prev:if (Array.isArray(value)) { | next:}"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_73bbfb523e2f",
      "file": "src/react/codexOptimistic.ts",
      "line": 119,
      "col": 25,
      "snippet": "Array.isArray((value as { page?: unknown }).page)",
      "context": "prev:\"page\" in value && | next:) {"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_d9fdc7fb1dae",
      "file": "src/react/codexOptimistic.ts",
      "line": 121,
      "col": 18,
      "snippet": "return (value as { page: Item[] }).page;",
      "context": "prev:) { | next:}"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_b13a2c1bdf52",
      "file": "src/react/codexOptimistic.ts",
      "line": 128,
      "col": 16,
      "snippet": "return page as ValueType;",
      "context": "prev:if (Array.isArray(current)) { | next:}"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_957dcb4625dc",
      "file": "src/react/codexOptimistic.ts",
      "line": 130,
      "col": 67,
      "snippet": "if (current && typeof current === \"object\" && \"page\" in (current as object)) {",
      "context": "prev:} | next:return {"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_821f6571af2d",
      "file": "src/react/codexOptimistic.ts",
      "line": 132,
      "col": 18,
      "snippet": "...(current as Record<string, unknown>),",
      "context": "prev:return { | next:page,"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_a1b325c865ae",
      "file": "src/react/codexOptimistic.ts",
      "line": 134,
      "col": 6,
      "snippet": "} as ValueType;",
      "context": "prev:page, | next:}"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_271c1a0fb87e",
      "file": "src/react/codexOptimistic.ts",
      "line": 153,
      "col": 27,
      "snippet": "config.value as (",
      "context": "prev:? ( | next:current: FunctionReturnType<Query> | undefined,"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_227db34a1ba5",
      "file": "src/react/codexOptimistic.ts",
      "line": 186,
      "col": 64,
      "snippet": "const item = config.item(mutationArgs, queryArgs, current as CodexCollectionValue<Query>);",
      "context": "prev:} | next:const nextPage = position === \"end\" ? [...page, item] : [item, ...page];"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_4a3c59ee5ac7",
      "file": "src/react/codexOptimistic.ts",
      "line": 375,
      "col": 16,
      "snippet": "} as CodexCollectionItem<Query>;",
      "context": "prev:completedAt: now, | next:},"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_2e06f24338e2",
      "file": "src/react/codexOptimistic.ts",
      "line": 406,
      "col": 16,
      "snippet": "} as CodexCollectionItem<Query>;",
      "context": "prev:updatedAt: now, | next:},"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_55bd447e513b",
      "file": "src/react/codexOptimistic.ts",
      "line": 417,
      "col": 47,
      "snippet": "args: (mutationArgs) => mutationArgs as FunctionArgs<Query>,",
      "context": "prev:query, | next:value: (current) => {"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_f1d5e63a588f",
      "file": "src/react/codexOptimistic.ts",
      "line": 437,
      "col": 47,
      "snippet": "args: (mutationArgs) => mutationArgs as FunctionArgs<Query>,",
      "context": "prev:query, | next:value: (current) => {"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_03ec36eac762",
      "file": "src/react/dynamicTools.ts",
      "line": 43,
      "col": 62,
      "snippet": "return typeof value === \"object\" && value !== null ? (value as Record<string, unknown>) : null;",
      "context": "prev:function asObject(value: unknown): Record<string, unknown> | null { | next:}"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_254a05da1361",
      "file": "src/react/dynamicTools.ts",
      "line": 48,
      "col": 43,
      "snippet": "const parsed = JSON.parse(payloadJson) as unknown;",
      "context": "prev:try { | next:const root = asObject(parsed);"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_ad61feca714b",
      "file": "src/react/index.ts",
      "line": 32,
      "col": 3,
      "snippet": "// as a standalone hook. Type exports remain available below.",
      "context": "prev:// useCodexThreads is composed through useCodex({ threads }) — not exported | next:// ── Utilities ────────────────────────────────────────────────────────"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_6e58f1a11d8f",
      "file": "src/react/queryArgs.ts",
      "line": 12,
      "col": 20,
      "snippet": "return [\"skip\"] as OptionalRestArgsOrSkip<Query>;",
      "context": "prev:if (args === \"skip\") { | next:}"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_a0834e839500",
      "file": "src/react/queryArgs.ts",
      "line": 14,
      "col": 16,
      "snippet": "return [args] as OptionalRestArgsOrSkip<Query>;",
      "context": "prev:} | next:}"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_8f90a4081363",
      "file": "src/react/useCodex.ts",
      "line": 253,
      "col": 47,
      "snippet": "// not configured we pass the messages query as a stand-in ref; the \"skip\"",
      "context": "prev:// useQuery must always be called (rules of hooks). When token usage is | next:// args ensure Convex never executes it."
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_578c96a36aff",
      "file": "src/react/useCodexConversationController.ts",
      "line": 99,
      "col": 43,
      "snippet": "const debugFlag = Reflect.get(globalThis as Record<string, unknown>, \"__CODEX_SYNC_DEBUG__\");",
      "context": "prev:function syncDebugEnabled(): boolean { | next:return debugFlag === true;"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_de3a2572b320",
      "file": "src/react/useCodexMessages.ts",
      "line": 15,
      "col": 50,
      "snippet": "const paginated = usePaginatedQuery(query, args as PaginatedQueryArgs<Query> | \"skip\", {",
      "context": "prev:): UsePaginatedQueryResult<CodexUIMessage> { | next:initialNumItems: options.initialNumItems,"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_a6c0333475d9",
      "file": "src/react/useCodexReasoning.ts",
      "line": 16,
      "col": 50,
      "snippet": "const paginated = usePaginatedQuery(query, args as PaginatedQueryArgs<Query> | \"skip\", {",
      "context": "prev:): UsePaginatedQueryResult<CodexReasoningSegmentLike> { | next:initialNumItems: options.initialNumItems,"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_a685d2655a30",
      "file": "src/react/useCodexThreads.ts",
      "line": 74,
      "col": 19,
      "snippet": "? ((listed as Record<string, unknown>).threads as unknown[] | undefined)",
      "context": "prev:: listed && typeof listed === \"object\" && \"threads\" in listed | next:: undefined;"
    }
  ]
}
