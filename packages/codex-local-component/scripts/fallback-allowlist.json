{
  "version": 1,
  "entries": [
    {
      "description": "Default includeTurns to false for thread/read requests to avoid unexpectedly large responses when callers omit the flag.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_6c9ddb2b6265",
      "file": "src/app-server/client.ts",
      "line": 127,
      "col": 19,
      "kind": "nullish-coalescing",
      "snippet": "params.includeTurns ?? false",
      "context": "return buildClientRequest(\"thread/read\", id, { threadId: params.threadId, includeTurns: params.includeTurns ?? false, });"
    },
    {
      "description": "Default ThreadListParams to an empty object so list requests remain valid and rely on server-side defaults when optional filters are omitted.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_f6a960cdf1c7",
      "file": "src/app-server/client.ts",
      "line": 133,
      "col": 3,
      "kind": "parameter-default",
      "snippet": "params: ThreadListParams = {}",
      "context": "export function buildThreadListRequest( id: number, params: ThreadListParams = {}, ): RequestFor<\"thread/list\"> { return buildClientRequest(\"thread/list\", id, params); }"
    },
    {
      "description": "Default ThreadLoadedListParams to an empty object to preserve backward compatibility for callers that do not pass pagination or filtering arguments.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_c815a6956025",
      "file": "src/app-server/client.ts",
      "line": 140,
      "col": 3,
      "kind": "parameter-default",
      "snippet": "params: ThreadLoadedListParams = {}",
      "context": "export function buildThreadLoadedListRequest( id: number, params: ThreadLoadedListParams = {}, ): RequestFor<\"thread/loaded/list\"> { return buildClientRequest(\"thread/loaded/lis..."
    },
    {
      "description": "Defaults refreshToken to false for account/read to avoid unexpected auth refresh side effects when callers omit the flag.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_1af98041539a",
      "file": "src/app-server/client.ts",
      "line": 284,
      "col": 19,
      "kind": "nullish-coalescing",
      "snippet": "params?.refreshToken ?? false",
      "context": "requestParams: GetAccountParams = { refreshToken: params?.refreshToken ?? false, }"
    },
    {
      "description": "Initializes per-table delete counters at 0 while aggregating batch results; standard accumulator default.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_4ccf333487d6",
      "file": "src/component/deletionCascade.ts",
      "line": 130,
      "col": 39,
      "kind": "nullish-coalescing",
      "snippet": "deletedByTable[step.tableName] ?? 0",
      "context": "deletedByTable[step.tableName] = (deletedByTable[step.tableName] ?? 0) + deleted;"
    },
    {
      "description": "Uses a bounded default deletion batch size when callers do not provide one.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_7b83e7e1383a",
      "file": "src/component/deletionInternal.ts",
      "line": 13,
      "col": 31,
      "kind": "nullish-coalescing",
      "snippet": "batchSize ?? DELETE_BATCH_DEFAULT",
      "context": "return Math.max(1, Math.min(batchSize ?? DELETE_BATCH_DEFAULT, DELETE_BATCH_MAX));"
    },
    {
      "description": "Applies default deletion grace delay and clamps to min/max bounds for safe scheduling.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_3881decc6019",
      "file": "src/component/deletionUtils.ts",
      "line": 29,
      "col": 14,
      "kind": "nullish-coalescing",
      "snippet": "delayMs ?? DEFAULT_DELETE_GRACE_MS",
      "context": "return Math.max( MIN_DELETE_GRACE_MS, Math.min(delayMs ?? DEFAULT_DELETE_GRACE_MS, MAX_DELETE_GRACE_MS), );"
    },
    {
      "description": "Initializes merged deletion-count totals at 0 while combining count maps.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_ad638580edb9",
      "file": "src/component/deletionUtils.ts",
      "line": 79,
      "col": 26,
      "kind": "nullish-coalescing",
      "snippet": "merged[tableName] ?? 0",
      "context": "merged[tableName] = (merged[tableName] ?? 0) + count;"
    },
    {
      "description": "Falls back to existing message status when durableMessage status is missing; may hide upstream payload incompleteness.",
      "userApproved": false,
      "riskLevel": "medium",
      "id": "FB_7687134cd737",
      "file": "src/component/ingest/applyMessages.ts",
      "line": 59,
      "col": 16,
      "kind": "nullish-coalescing",
      "snippet": "event.durableMessage?.status ?? existing.status",
      "context": "return event.durableMessage?.status ?? existing.status;"
    },
    {
      "description": "Defaults missing reasoning text delta to empty string to keep segment insertion stable.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_2c290886c26f",
      "file": "src/component/ingest/applyMessages.ts",
      "line": 112,
      "col": 13,
      "kind": "nullish-coalescing",
      "snippet": "event.reasoningDelta.delta ?? \"\"",
      "context": "await ingest.ctx.db.insert(\"codex_reasoning_segments\", { userScope: userScopeFromActor(ingest.args.actor), ...(ingest.args.actor.userId !== undefined ? { userId: ingest.args.act..."
    },
    {
      "description": "Defaults expected stream cursor to 0 for unseen streams; correct for first event but sensitive if stream identity mapping is wrong.",
      "userApproved": false,
      "riskLevel": "medium",
      "id": "FB_aaabcd8a6f19",
      "file": "src/component/ingest/applyStreams.ts",
      "line": 130,
      "col": 32,
      "kind": "nullish-coalescing",
      "snippet": "ingest.streamState.expectedCursorByStreamId.get(event.streamId) ?? 0",
      "context": "streamExpectedCursor = ingest.streamState.expectedCursorByStreamId.get(event.streamId) ?? 0"
    },
    {
      "description": "Defaults checkpoint cursor to 0 when no prior checkpoint exists for this stream.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_2a8a37204e9d",
      "file": "src/component/ingest/applyStreams.ts",
      "line": 149,
      "col": 9,
      "kind": "nullish-coalescing",
      "snippet": "ingest.streamState.streamCheckpointCursorByStreamId.get(event.streamId) ?? 0",
      "context": "ingest.streamState.streamCheckpointCursorByStreamId.set( event.streamId, Math.max( ingest.streamState.streamCheckpointCursorByStreamId.get(event.streamId) ?? 0, Number(existingS..."
    },
    {
      "description": "Defaults checkpoint cursor to 0 when no prior checkpoint exists for this stream.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_2c0c8f0db694",
      "file": "src/component/ingest/applyStreams.ts",
      "line": 214,
      "col": 14,
      "kind": "nullish-coalescing",
      "snippet": "ingest.streamState.streamCheckpointCursorByStreamId.get(event.streamId) ?? 0",
      "context": "ingest.streamState.streamCheckpointCursorByStreamId.set( event.streamId, Math.max(ingest.streamState.streamCheckpointCursorByStreamId.get(event.streamId) ?? 0, event.cursorEnd), );"
    },
    {
      "description": "Prefers payload turnId over envelope turnId, but now fail-closes on non-placeholder mismatches to prevent silent turn-id drift.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_a745ef4c8e9d",
      "file": "src/component/ingest/normalize.ts",
      "line": 64,
      "col": 30,
      "kind": "nullish-coalescing",
      "snippet": "payloadTurnId ?? event.turnId",
      "context": "resolvedTurnId = payloadTurnId ?? event.turnId"
    },
    {
      "description": "For lifecycle events, omits turnId when payload does not provide a canonical turn id.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_41673d0e27bb",
      "file": "src/component/ingest/normalize.ts",
      "line": 79,
      "col": 28,
      "kind": "nullish-coalescing",
      "snippet": "payloadTurnId ?? undefined",
      "context": "resolvedTurnId = payloadTurnId ?? undefined"
    },
    {
      "description": "Returns null when sync error code prefix is absent; explicit sentinel for unknown error format.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_bb2b531066ea",
      "file": "src/component/ingest/sessionGuard.ts",
      "line": 25,
      "col": 10,
      "kind": "nullish-coalescing",
      "snippet": "match?.[1] ?? null",
      "context": "return match?.[1] ?? null;"
    },
    {
      "description": "Returns empty cursor when thread is missing so paginated message response remains valid and done.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_9d87e8cb985b",
      "file": "src/component/messages.ts",
      "line": 46,
      "col": 27,
      "kind": "nullish-coalescing",
      "snippet": "args.paginationOpts.cursor ?? \"\"",
      "context": "return { page: [], isDone: true, continueCursor: args.paginationOpts.cursor ?? \"\", };"
    },
    {
      "description": "Preserves existing pagination cursor or empty string when page is empty to maintain Convex PaginationResult contract.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_4ec916ac2c69",
      "file": "src/component/pagination.ts",
      "line": 44,
      "col": 10,
      "kind": "nullish-coalescing",
      "snippet": "paginationOpts.cursor ?? \"\"",
      "context": "continueCursor = page.length > 0 ? encodeKeysetCursor(getCursor(page[page.length - 1]!)) : (paginationOpts.cursor ?? \"\")"
    },
    {
      "description": "Defaults pending server-request list limit to 100 and clamps to [1,200].",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_b5cfdf9ced62",
      "file": "src/component/serverRequests.ts",
      "line": 248,
      "col": 45,
      "kind": "nullish-coalescing",
      "snippet": "args.limit ?? 100",
      "context": "limit = Math.max(1, Math.min(200, args.limit ?? 100))"
    },
    {
      "description": "Defaults finished-stream cleanup batch size and clamps to configured bounds.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_a78a528dfbfc",
      "file": "src/component/streams.ts",
      "line": 104,
      "col": 16,
      "kind": "nullish-coalescing",
      "snippet": "args.batchSize ?? STREAM_CLEANUP_BATCH_SIZE_DEFAULT",
      "context": "batchSize = Math.max( 1, Math.min(args.batchSize ?? STREAM_CLEANUP_BATCH_SIZE_DEFAULT, STREAM_CLEANUP_BATCH_SIZE_MAX), )"
    },
    {
      "description": "Defaults expired-delta cleanup batch size to 1000 with upper/lower clamps.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_511674e14a50",
      "file": "src/component/streams.ts",
      "line": 203,
      "col": 44,
      "kind": "nullish-coalescing",
      "snippet": "args.batchSize ?? 1000",
      "context": "batchSize = Math.max(1, Math.min(args.batchSize ?? 1000, 5000))"
    },
    {
      "description": "Defaults data-hygiene sample size to 1000 with upper/lower clamps.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_0ba80707296a",
      "file": "src/component/streams.ts",
      "line": 239,
      "col": 45,
      "kind": "nullish-coalescing",
      "snippet": "args.sampleSize ?? 1000",
      "context": "sampleSize = Math.max(1, Math.min(args.sampleSize ?? 1000, 5000))"
    },
    {
      "description": "Defaults ensureLastEventCursor to 0 and clamps non-negative so safe-ingest replay checks always have a baseline cursor.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_13c1f7a035f4",
      "file": "src/component/syncIngest.ts",
      "line": 67,
      "col": 47,
      "kind": "nullish-coalescing",
      "snippet": "args.ensureLastEventCursor ?? 0",
      "context": "ensureCursor = Math.max(0, Math.floor(args.ensureLastEventCursor ?? 0))"
    },
    {
      "description": "Uses checkpoint ackedCursor default 0 when no checkpoint exists for a stream replay window.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_72bb34aa3d7a",
      "file": "src/component/syncReplay.ts",
      "line": 90,
      "col": 63,
      "kind": "nullish-coalescing",
      "snippet": "checkpoint?.ackedCursor ?? 0",
      "context": "effectiveCursor = Math.max(args.requestedCursor, Number(checkpoint?.ackedCursor ?? 0))"
    },
    {
      "description": "Runtime option default: do not persist stream text deltas unless explicitly enabled.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_8440806446fc",
      "file": "src/component/syncRuntime.ts",
      "line": 52,
      "col": 23,
      "kind": "nullish-coalescing",
      "snippet": "options?.saveStreamDeltas ?? false",
      "context": "return { saveStreamDeltas: options?.saveStreamDeltas ?? false, saveReasoningDeltas: options?.saveReasoningDeltas ?? true, exposeRawReasoningDeltas: options?.exposeRawReasoningDe..."
    },
    {
      "description": "Runtime option default: persist reasoning summary deltas unless explicitly disabled.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_2e91802b1372",
      "file": "src/component/syncRuntime.ts",
      "line": 53,
      "col": 26,
      "kind": "nullish-coalescing",
      "snippet": "options?.saveReasoningDeltas ?? true",
      "context": "return { saveStreamDeltas: options?.saveStreamDeltas ?? false, saveReasoningDeltas: options?.saveReasoningDeltas ?? true, exposeRawReasoningDeltas: options?.exposeRawReasoningDe..."
    },
    {
      "description": "Runtime option default: do not expose raw reasoning deltas unless explicitly enabled.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_20182f20f364",
      "file": "src/component/syncRuntime.ts",
      "line": 54,
      "col": 31,
      "kind": "nullish-coalescing",
      "snippet": "options?.exposeRawReasoningDeltas ?? false",
      "context": "return { saveStreamDeltas: options?.saveStreamDeltas ?? false, saveReasoningDeltas: options?.saveReasoningDeltas ?? true, exposeRawReasoningDeltas: options?.exposeRawReasoningDe..."
    },
    {
      "description": "Runtime option default for finished-stream delete delay uses configured constant when unset.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_86bcb55cd47a",
      "file": "src/component/syncRuntime.ts",
      "line": 66,
      "col": 9,
      "kind": "nullish-coalescing",
      "snippet": "options?.finishedStreamDeleteDelayMs ?? DEFAULT_FINISHED_STREAM_DELETE_DELAY_MS",
      "context": "return { saveStreamDeltas: options?.saveStreamDeltas ?? false, saveReasoningDeltas: options?.saveReasoningDeltas ?? true, exposeRawReasoningDeltas: options?.exposeRawReasoningDe..."
    },
    {
      "description": "Thread update preserves existing model when caller omits model in patch args.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_d08a09ab3ea4",
      "file": "src/component/threadHelpers.ts",
      "line": 45,
      "col": 14,
      "kind": "nullish-coalescing",
      "snippet": "args.model ?? existing.model",
      "context": "await ctx.db.patch(existing._id, { updatedAt: ts, model: args.model ?? existing.model, cwd: args.cwd ?? existing.cwd, personality: args.personality ?? existing.personality, loca..."
    },
    {
      "description": "Thread update preserves existing cwd when caller omits cwd in patch args.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_d58c43c373a6",
      "file": "src/component/threadHelpers.ts",
      "line": 46,
      "col": 12,
      "kind": "nullish-coalescing",
      "snippet": "args.cwd ?? existing.cwd",
      "context": "await ctx.db.patch(existing._id, { updatedAt: ts, model: args.model ?? existing.model, cwd: args.cwd ?? existing.cwd, personality: args.personality ?? existing.personality, loca..."
    },
    {
      "description": "Thread update preserves existing personality when caller omits personality in patch args.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_d612a3770568",
      "file": "src/component/threadHelpers.ts",
      "line": 47,
      "col": 20,
      "kind": "nullish-coalescing",
      "snippet": "args.personality ?? existing.personality",
      "context": "await ctx.db.patch(existing._id, { updatedAt: ts, model: args.model ?? existing.model, cwd: args.cwd ?? existing.cwd, personality: args.personality ?? existing.personality, loca..."
    },
    {
      "description": "Thread update preserves existing localThreadId when caller omits localThreadId in patch args.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_0c1b80c41e13",
      "file": "src/component/threadHelpers.ts",
      "line": 48,
      "col": 22,
      "kind": "nullish-coalescing",
      "snippet": "args.localThreadId ?? existing.localThreadId",
      "context": "await ctx.db.patch(existing._id, { updatedAt: ts, model: args.model ?? existing.model, cwd: args.cwd ?? existing.cwd, personality: args.personality ?? existing.personality, loca..."
    },
    {
      "description": "TODO: add manual description",
      "userApproved": false,
      "riskLevel": "default",
      "id": "FB_32356e9cf3ef",
      "file": "src/component/threads.ts",
      "line": 436,
      "col": 51,
      "kind": "nullish-coalescing",
      "snippet": "existing.rebindCount ?? 0",
      "context": "await ctx.db.patch(existing._id, { conversationId, conversationRef: touched.threadRef, runtimeConversationId: args.runtimeConversationId, syncState, ...(args.sessionId !== undef..."
    },
    {
      "description": "TODO: add manual description",
      "userApproved": false,
      "riskLevel": "default",
      "id": "FB_047eeba66389",
      "file": "src/component/threads.ts",
      "line": 519,
      "col": 34,
      "kind": "nullish-coalescing",
      "snippet": "args.syncState ?? \"synced\"",
      "context": "nextState: SyncState = args.syncState ?? \"synced\""
    },
    {
      "description": "TODO: add manual description",
      "userApproved": false,
      "riskLevel": "default",
      "id": "FB_94c17e84411d",
      "file": "src/component/threads.ts",
      "line": 572,
      "col": 32,
      "kind": "nullish-coalescing",
      "snippet": "binding.rebindCount ?? 0",
      "context": "rebindCount = Number(binding.rebindCount ?? 0) + 1"
    },
    {
      "description": "Terminal artifact reconciliation falls back to existing turn error/status when new error is absent; can preserve stale error semantics if upstream omits error unexpectedly.",
      "userApproved": false,
      "riskLevel": "medium",
      "id": "FB_0c02b1623346",
      "file": "src/component/turnsInternal.ts",
      "line": 66,
      "col": 11,
      "kind": "nullish-coalescing",
      "snippet": "args.error ?? (typeof turn.error === \"string\" && turn.error.length > 0 ? turn.error : status)",
      "context": "error = status === \"completed\" ? undefined : args.error ?? (typeof turn.error === \"string\" && turn.error.length > 0 ? turn.error : status)"
    },
    {
      "description": "Aborted stream reason falls back to terminal status when explicit error is unavailable; acceptable fallback but loses detailed cause.",
      "userApproved": false,
      "riskLevel": "medium",
      "id": "FB_4898b000cc25",
      "file": "src/component/turnsInternal.ts",
      "line": 139,
      "col": 45,
      "kind": "nullish-coalescing",
      "snippet": "error ?? status",
      "context": "await ctx.db.patch(stream._id, { state: { kind: \"aborted\", reason: error ?? status, endedAt: ts }, endedAt: ts, cleanupScheduledAt: ts, cleanupFnId, });"
    },
    {
      "description": "Error code parser returns null when bracketed code prefix is missing; explicit unknown-code sentinel.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_08f60dbcff9a",
      "file": "src/errors.ts",
      "line": 28,
      "col": 10,
      "kind": "nullish-coalescing",
      "snippet": "match?.[1] ?? null",
      "context": "return match?.[1] ?? null;"
    },
    {
      "description": "TODO: add manual description",
      "userApproved": false,
      "riskLevel": "default",
      "id": "FB_78f756926e18",
      "file": "src/host/authActor.ts",
      "line": 17,
      "col": 3,
      "kind": "parameter-default",
      "snippet": "requestedActor: HostActorContext = {}",
      "context": "export async function resolveActorFromAuth( ctx: AuthIdentityCtx, requestedActor: HostActorContext = {}, ): Promise<HostActorContext> { const identity = await ctx.auth.getUserId..."
    },
    {
      "description": "TODO: add manual description",
      "userApproved": false,
      "riskLevel": "default",
      "id": "FB_9292a31cea27",
      "file": "src/host/definitions/convexPreset.ts",
      "line": 84,
      "col": 12,
      "kind": "nullish-coalescing",
      "snippet": "options.features?.hooks ?? true",
      "context": "features: Required<CodexHostSliceFeatures> = { hooks: options.features?.hooks ?? true, approvals: options.features?.approvals ?? true, serverRequests: options.features?.serverRe..."
    },
    {
      "description": "TODO: add manual description",
      "userApproved": false,
      "riskLevel": "default",
      "id": "FB_ac69abf3b390",
      "file": "src/host/definitions/convexPreset.ts",
      "line": 85,
      "col": 16,
      "kind": "nullish-coalescing",
      "snippet": "options.features?.approvals ?? true",
      "context": "features: Required<CodexHostSliceFeatures> = { hooks: options.features?.hooks ?? true, approvals: options.features?.approvals ?? true, serverRequests: options.features?.serverRe..."
    },
    {
      "description": "TODO: add manual description",
      "userApproved": false,
      "riskLevel": "default",
      "id": "FB_b3af87ba67c0",
      "file": "src/host/definitions/convexPreset.ts",
      "line": 86,
      "col": 21,
      "kind": "nullish-coalescing",
      "snippet": "options.features?.serverRequests ?? true",
      "context": "features: Required<CodexHostSliceFeatures> = { hooks: options.features?.hooks ?? true, approvals: options.features?.approvals ?? true, serverRequests: options.features?.serverRe..."
    },
    {
      "description": "TODO: add manual description",
      "userApproved": false,
      "riskLevel": "default",
      "id": "FB_015756233dc6",
      "file": "src/host/definitions/convexPreset.ts",
      "line": 87,
      "col": 16,
      "kind": "nullish-coalescing",
      "snippet": "options.features?.reasoning ?? true",
      "context": "features: Required<CodexHostSliceFeatures> = { hooks: options.features?.hooks ?? true, approvals: options.features?.approvals ?? true, serverRequests: options.features?.serverRe..."
    },
    {
      "description": "TODO: add manual description",
      "userApproved": false,
      "riskLevel": "default",
      "id": "FB_2112287fc1e4",
      "file": "src/host/definitions/convexPreset.ts",
      "line": 88,
      "col": 14,
      "kind": "nullish-coalescing",
      "snippet": "options.features?.hygiene ?? true",
      "context": "features: Required<CodexHostSliceFeatures> = { hooks: options.features?.hooks ?? true, approvals: options.features?.approvals ?? true, serverRequests: options.features?.serverRe..."
    },
    {
      "description": "TODO: add manual description",
      "userApproved": false,
      "riskLevel": "default",
      "id": "FB_44f33ba1aee8",
      "file": "src/host/definitions/convexPreset.ts",
      "line": 89,
      "col": 17,
      "kind": "nullish-coalescing",
      "snippet": "options.features?.tokenUsage ?? true",
      "context": "features: Required<CodexHostSliceFeatures> = { hooks: options.features?.hooks ?? true, approvals: options.features?.approvals ?? true, serverRequests: options.features?.serverRe..."
    },
    {
      "description": "TODO: add manual description",
      "userApproved": false,
      "riskLevel": "default",
      "id": "FB_bd07b830477e",
      "file": "src/host/definitions/convexPreset.ts",
      "line": 103,
      "col": 29,
      "kind": "nullish-coalescing",
      "snippet": "args.threadId ?? \"__codex_host_wiring_preflight__\"",
      "context": "checkThreadId = args.threadId ?? \"__codex_host_wiring_preflight__\""
    },
    {
      "description": "TODO: add manual description",
      "userApproved": false,
      "riskLevel": "default",
      "id": "FB_8d9a629d6021",
      "file": "src/host/definitions/convexPreset.ts",
      "line": 474,
      "col": 37,
      "kind": "nullish-coalescing",
      "snippet": "args.paginationOpts.cursor ?? \"\"",
      "context": "return { ...missing, page: [], isDone: true, continueCursor: args.paginationOpts.cursor ?? \"\", ...(streams ? { streams } : {}), };"
    },
    {
      "description": "TODO: add manual description",
      "userApproved": false,
      "riskLevel": "default",
      "id": "FB_aa508d068369",
      "file": "src/host/definitions/convexPreset.ts",
      "line": 679,
      "col": 37,
      "kind": "nullish-coalescing",
      "snippet": "args.paginationOpts.cursor ?? \"\"",
      "context": "return { ...missing, page: [], isDone: true, continueCursor: args.paginationOpts.cursor ?? \"\", };"
    },
    {
      "description": "TODO: add manual description",
      "userApproved": false,
      "riskLevel": "default",
      "id": "FB_130adb888b16",
      "file": "src/host/definitions/convexPresetMutations.ts",
      "line": 829,
      "col": 23,
      "kind": "nullish-coalescing",
      "snippet": "args.dispatchId ?? args.turnId",
      "context": "return { dispatchId: args.dispatchId ?? args.turnId, turnId: args.turnId, accepted: true as const, };"
    },
    {
      "description": "TODO: add manual description",
      "userApproved": false,
      "riskLevel": "default",
      "id": "FB_22563a556bd4",
      "file": "src/host/definitions/shim.ts",
      "line": 13,
      "col": 27,
      "kind": "nullish-coalescing",
      "snippet": "options.extensionModule ?? \"./chat.extensions\"",
      "context": "extensionModule = options.extensionModule ?? \"./chat.extensions\""
    },
    {
      "description": "TODO: add manual description",
      "userApproved": false,
      "riskLevel": "default",
      "id": "FB_f9696e3ac5e8",
      "file": "src/host/definitions/shim.ts",
      "line": 35,
      "col": 3,
      "kind": "parameter-default",
      "snippet": "options: CodexHostShimRenderOptions = {}",
      "context": "export function renderCodexHostShim( options: CodexHostShimRenderOptions = {}, ): string { const definitionsIdentifier = options.definitionsIdentifier ?? \"codex\"; const lines = ..."
    },
    {
      "description": "TODO: add manual description",
      "userApproved": false,
      "riskLevel": "default",
      "id": "FB_dc69dcd8164e",
      "file": "src/host/definitions/shim.ts",
      "line": 37,
      "col": 33,
      "kind": "nullish-coalescing",
      "snippet": "options.definitionsIdentifier ?? \"codex\"",
      "context": "definitionsIdentifier = options.definitionsIdentifier ?? \"codex\""
    },
    {
      "description": "TODO: add manual description",
      "userApproved": false,
      "riskLevel": "default",
      "id": "FB_f4189d0a021b",
      "file": "src/host/persistence/convex/convexPersistence.ts",
      "line": 87,
      "col": 23,
      "kind": "nullish-coalescing",
      "snippet": "options?.runtimeOptions ?? {}",
      "context": "runtimeOpts = options?.runtimeOptions ?? {}"
    },
    {
      "description": "TODO: add manual description",
      "userApproved": false,
      "riskLevel": "default",
      "id": "FB_afaa5b38edea",
      "file": "src/host/persistence/convex/convexPersistence.ts",
      "line": 155,
      "col": 28,
      "kind": "nullish-coalescing",
      "snippet": "threadHandleByPersistedThreadId.get(args.threadId) ?? args.threadId",
      "context": "threadHandle = threadHandleByPersistedThreadId.get(args.threadId) ?? args.threadId"
    },
    {
      "description": "TODO: add manual description",
      "userApproved": false,
      "riskLevel": "default",
      "id": "FB_e1ee1bacaadf",
      "file": "src/host/persistence/convex/convexPersistence.ts",
      "line": 182,
      "col": 28,
      "kind": "nullish-coalescing",
      "snippet": "threadHandleByPersistedThreadId.get(args.threadId) ?? args.threadId",
      "context": "threadHandle = threadHandleByPersistedThreadId.get(args.threadId) ?? args.threadId"
    },
    {
      "description": "TODO: add manual description",
      "userApproved": false,
      "riskLevel": "default",
      "id": "FB_5dd51e8f76c7",
      "file": "src/host/runtime/runtime.ts",
      "line": 320,
      "col": 18,
      "kind": "nullish-coalescing",
      "snippet": "connectArgs.actor ?? defaultActor ?? { userId: \"anonymous\" }",
      "context": "core.actor = connectArgs.actor ?? defaultActor ?? { userId: \"anonymous\" };"
    },
    {
      "description": "TODO: add manual description",
      "userApproved": false,
      "riskLevel": "default",
      "id": "FB_03104669851f",
      "file": "src/host/runtime/runtime.ts",
      "line": 320,
      "col": 18,
      "kind": "nullish-coalescing",
      "snippet": "connectArgs.actor ?? defaultActor",
      "context": "core.actor = connectArgs.actor ?? defaultActor ?? { userId: \"anonymous\" };"
    },
    {
      "description": "TODO: add manual description",
      "userApproved": false,
      "riskLevel": "default",
      "id": "FB_df6ad401b22e",
      "file": "src/host/runtime/runtime.ts",
      "line": 321,
      "col": 26,
      "kind": "nullish-coalescing",
      "snippet": "connectArgs.sessionId ?? defaultSessionId",
      "context": "rawSessionId = connectArgs.sessionId ?? defaultSessionId"
    },
    {
      "description": "TODO: add manual description",
      "userApproved": false,
      "riskLevel": "default",
      "id": "FB_3389c35aa9ac",
      "file": "src/host/runtime/runtime.ts",
      "line": 326,
      "col": 26,
      "kind": "nullish-coalescing",
      "snippet": "connectArgs.ingestFlushMs ?? 250",
      "context": "core.ingestFlushMs = connectArgs.ingestFlushMs ?? 250;"
    },
    {
      "description": "TODO: add manual description",
      "userApproved": false,
      "riskLevel": "default",
      "id": "FB_70bdc092dbd6",
      "file": "src/host/runtime/runtime.ts",
      "line": 332,
      "col": 25,
      "kind": "nullish-coalescing",
      "snippet": "connectArgs.cwd ?? args.bridge?.cwd",
      "context": "resolvedCwd = connectArgs.cwd ?? args.bridge?.cwd"
    },
    {
      "description": "TODO: add manual description",
      "userApproved": false,
      "riskLevel": "default",
      "id": "FB_92c2ff4aa64d",
      "file": "src/host/runtime/runtime.ts",
      "line": 350,
      "col": 59,
      "kind": "nullish-coalescing",
      "snippet": "code ?? \"unknown\"",
      "context": "core.setProcessExitError(code ?? \"unknown\");"
    },
    {
      "description": "TODO: add manual description",
      "userApproved": false,
      "riskLevel": "default",
      "id": "FB_353206914355",
      "file": "src/host/runtime/runtime.ts",
      "line": 452,
      "col": 95,
      "kind": "nullish-coalescing",
      "snippet": "params ?? {}",
      "context": "return core.sendRequest(buildThreadResumeRequest(core.requestIdFn(), { threadId: tid, ...(params ?? {}) }));"
    },
    {
      "description": "TODO: add manual description",
      "userApproved": false,
      "riskLevel": "default",
      "id": "FB_a08d0b6414b8",
      "file": "src/host/runtime/runtime.ts",
      "line": 456,
      "col": 93,
      "kind": "nullish-coalescing",
      "snippet": "params ?? {}",
      "context": "return core.sendRequest(buildThreadForkRequest(core.requestIdFn(), { threadId: tid, ...(params ?? {}) }));"
    },
    {
      "description": "TODO: add manual description",
      "userApproved": false,
      "riskLevel": "default",
      "id": "FB_9ef88d714137",
      "file": "src/host/runtime/runtime.ts",
      "line": 478,
      "col": 66,
      "kind": "parameter-default",
      "snippet": "includeTurns = false",
      "context": "async (tid, includeTurns = false) => core.sendRequest(buildThreadReadRequest(core.requestIdFn(), { threadId: tid, includeTurns }))"
    },
    {
      "description": "TODO: add manual description",
      "userApproved": false,
      "riskLevel": "default",
      "id": "FB_bbd3d922708c",
      "file": "src/host/runtime/runtime.ts",
      "line": 608,
      "col": 158,
      "kind": "nullish-coalescing",
      "snippet": "a.chatgptPlanType ?? null",
      "context": "core.sendMessage(buildChatgptAuthTokensRefreshResponse(a.requestId, { accessToken: a.accessToken, chatgptAccountId: a.chatgptAccountId, chatgptPlanType: a.chatgptPlanType ?? nul..."
    },
    {
      "description": "TODO: add manual description",
      "userApproved": false,
      "riskLevel": "default",
      "id": "FB_ca2fc112480e",
      "file": "src/host/runtime/runtimeCore.ts",
      "line": 92,
      "col": 93,
      "kind": "nullish-coalescing",
      "snippet": "counts.get(kind) ?? 0",
      "context": "counts.set(kind, (counts.get(kind) ?? 0) + 1);"
    },
    {
      "description": "TODO: add manual description",
      "userApproved": false,
      "riskLevel": "default",
      "id": "FB_113d271c3e7b",
      "file": "src/host/runtime/runtimeCore.ts",
      "line": 220,
      "col": 101,
      "kind": "nullish-coalescing",
      "snippet": "sessionId ?? \"runtime-owner\"",
      "context": "claimed = await args.persistence.claimNextTurnDispatch({ actor, threadId, claimOwner: sessionId ?? \"runtime-owner\" })"
    },
    {
      "description": "TODO: add manual description",
      "userApproved": false,
      "riskLevel": "default",
      "id": "FB_47f511135a0d",
      "file": "src/host/runtime/runtimeCore.ts",
      "line": 254,
      "col": 87,
      "kind": "nullish-coalescing",
      "snippet": "dispatchByTurnId.get(rtid)?.persistedTurnId ?? rtid",
      "context": "return dispatchByTurnId.get(rtid)?.persistedTurnId ?? rtid;"
    },
    {
      "description": "TODO: add manual description",
      "userApproved": false,
      "riskLevel": "default",
      "id": "FB_ad7cdd01bd1a",
      "file": "src/host/runtime/runtimeCoreHandlers.ts",
      "line": 161,
      "col": 83,
      "kind": "nullish-coalescing",
      "snippet": "batch[i]?.threadId ?? at",
      "context": "(d, i) => ({ ...d, threadId: batch[i]?.threadId ?? at })"
    },
    {
      "description": "TODO: add manual description",
      "userApproved": false,
      "riskLevel": "default",
      "id": "FB_9894d287980b",
      "file": "src/host/runtime/runtimeCoreHandlers.ts",
      "line": 213,
      "col": 48,
      "kind": "nullish-coalescing",
      "snippet": "asObject(fp.parsed.params) ?? {}",
      "context": "merged = { ...fp.parsed, params: { ...(asObject(fp.parsed.params) ?? {}), delta: `${fp.delta}${sp.delta}` } }"
    },
    {
      "description": "TODO: add manual description",
      "userApproved": false,
      "riskLevel": "default",
      "id": "FB_5b2f896ef159",
      "file": "src/host/runtime/runtimeCoreHandlers.ts",
      "line": 243,
      "col": 18,
      "kind": "nullish-coalescing",
      "snippet": "ctx.resolvePersistedTurnId(event.turnId) ?? event.turnId",
      "context": "ptid = ctx.resolvePersistedTurnId(event.turnId) ?? event.turnId"
    },
    {
      "description": "TODO: add manual description",
      "userApproved": false,
      "riskLevel": "default",
      "id": "FB_9bb30e3f8e73",
      "file": "src/host/runtime/runtimeCoreHandlers.ts",
      "line": 276,
      "col": 52,
      "kind": "nullish-coalescing",
      "snippet": "ctx.threadId ?? event.threadId",
      "context": "await ctx.expireTurnServerRequests({ threadId: ctx.threadId ?? event.threadId, ...(event.turnId ? { turnId: event.turnId } : {}) });"
    },
    {
      "description": "TODO: add manual description",
      "userApproved": false,
      "riskLevel": "default",
      "id": "FB_cedcd243c10f",
      "file": "src/host/runtime/runtimeCoreHandlers.ts",
      "line": 297,
      "col": 52,
      "kind": "nullish-coalescing",
      "snippet": "ctx.threadId ?? event.threadId",
      "context": "await ctx.expireTurnServerRequests({ threadId: ctx.threadId ?? event.threadId, ...(event.turnId ? { turnId: event.turnId } : {}) });"
    },
    {
      "description": "TODO: add manual description",
      "userApproved": false,
      "riskLevel": "default",
      "id": "FB_d96607ec6c33",
      "file": "src/host/runtime/runtimeCoreHandlers.ts",
      "line": 303,
      "col": 18,
      "kind": "nullish-coalescing",
      "snippet": "event.turnId ?? psr.turnId",
      "context": "rtid = event.turnId ?? psr.turnId"
    },
    {
      "description": "TODO: add manual description",
      "userApproved": false,
      "riskLevel": "default",
      "id": "FB_214a267561aa",
      "file": "src/host/runtime/runtimeCoreHandlers.ts",
      "line": 304,
      "col": 18,
      "kind": "nullish-coalescing",
      "snippet": "ctx.resolvePersistedTurnId(rtid) ?? psr.turnId",
      "context": "ptid = ctx.resolvePersistedTurnId(rtid) ?? psr.turnId"
    },
    {
      "description": "TODO: add manual description",
      "userApproved": false,
      "riskLevel": "default",
      "id": "FB_914d8fbac1e4",
      "file": "src/host/runtime/runtimeCoreHandlers.ts",
      "line": 312,
      "col": 71,
      "kind": "nullish-coalescing",
      "snippet": "asObject(envelope.params) ?? envelope",
      "context": "payload = envelope ? asObject(envelope.params) ?? envelope : null"
    },
    {
      "description": "TODO: add manual description",
      "userApproved": false,
      "riskLevel": "default",
      "id": "FB_0a4b8011e65a",
      "file": "src/host/runtime/runtimeCoreHandlers.ts",
      "line": 313,
      "col": 80,
      "kind": "nullish-coalescing",
      "snippet": "ctx.resolvePersistedTurnId(event.turnId) ?? ctx.turnId",
      "context": "rtid = ctx.resolvePersistedTurnId(event.turnId) ?? ctx.turnId"
    },
    {
      "description": "TODO: add manual description",
      "userApproved": false,
      "riskLevel": "default",
      "id": "FB_45846d27e65e",
      "file": "src/host/runtime/runtimeCoreHandlers.ts",
      "line": 371,
      "col": 131,
      "kind": "nullish-coalescing",
      "snippet": "pending.turnId ?? rtid",
      "context": "ctx.dispatchByTurnId.set(rtid, { dispatchId: pending.dispatchId, claimToken: pending.claimToken, persistedTurnId: pending.turnId ?? rtid });"
    },
    {
      "description": "Tauri command mapping returns null for unsupported commands instead of throwing.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_51dc7cd4cbc4",
      "file": "src/host/tauri.ts",
      "line": 237,
      "col": 10,
      "kind": "nullish-coalescing",
      "snippet": "TAURI_TO_HELPER_COMMAND[tauriCommand] ?? null",
      "context": "return TAURI_TO_HELPER_COMMAND[tauriCommand] ?? null;"
    },
    {
      "description": "Tauri account/read invoke sends empty config object when no config is provided.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_2856cd3c501b",
      "file": "src/host/tauri.ts",
      "line": 471,
      "col": 49,
      "kind": "nullish-coalescing",
      "snippet": "config ?? {}",
      "context": "return invoke(\"read_account\", { config: config ?? {} });"
    },
    {
      "description": "Local bridge executable resolution falls back from explicit config to CODEX_BIN env var and then \"codex\"; misconfiguration can silently target unintended binary.",
      "userApproved": false,
      "riskLevel": "medium",
      "id": "FB_2066bbd57d27",
      "file": "src/local-adapter/bridge.ts",
      "line": 65,
      "col": 17,
      "kind": "nullish-coalescing",
      "snippet": "this.config.codexBin ?? process.env.CODEX_BIN ?? \"codex\"",
      "context": "bin = this.config.codexBin ?? process.env.CODEX_BIN ?? \"codex\""
    },
    {
      "description": "Local bridge executable resolution falls back from explicit config to CODEX_BIN env var before defaulting to bundled command name.",
      "userApproved": false,
      "riskLevel": "medium",
      "id": "FB_b02910c76950",
      "file": "src/local-adapter/bridge.ts",
      "line": 65,
      "col": 17,
      "kind": "nullish-coalescing",
      "snippet": "this.config.codexBin ?? process.env.CODEX_BIN",
      "context": "bin = this.config.codexBin ?? process.env.CODEX_BIN ?? \"codex\""
    },
    {
      "description": "TODO: add manual description",
      "userApproved": false,
      "riskLevel": "default",
      "id": "FB_d0a6943a060c",
      "file": "src/local-adapter/bridge.ts",
      "line": 122,
      "col": 30,
      "kind": "nullish-coalescing",
      "snippet": "streamId ?? (turnId ? `${conversationId}:${turnId}:0` : undefined)",
      "context": "resolvedStreamId = streamId ?? (turnId ? `${conversationId}:${turnId}:0` : undefined)"
    },
    {
      "description": "Reasoning segment key uses \"none\" sentinel when summaryIndex is missing to keep key deterministic.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_1c6f4343a417",
      "file": "src/mapping.ts",
      "line": 97,
      "col": 5,
      "kind": "nullish-coalescing",
      "snippet": "args.summaryIndex ?? \"none\"",
      "context": "return [ args.turnId, args.itemId, args.channel, args.segmentType, args.summaryIndex ?? \"none\", args.contentIndex ?? \"none\", ].join(\":\");"
    },
    {
      "description": "Reasoning segment key uses \"none\" sentinel when contentIndex is missing to keep key deterministic.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_3e615557dd87",
      "file": "src/mapping.ts",
      "line": 98,
      "col": 5,
      "kind": "nullish-coalescing",
      "snippet": "args.contentIndex ?? \"none\"",
      "context": "return [ args.turnId, args.itemId, args.channel, args.segmentType, args.summaryIndex ?? \"none\", args.contentIndex ?? \"none\", ].join(\":\");"
    },
    {
      "description": "Reasoning segment sort treats missing summaryIndex as MAX_SAFE_INTEGER so indexed segments sort before unindexed tails.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_6c51ca86fb4e",
      "file": "src/mapping.ts",
      "line": 130,
      "col": 23,
      "kind": "nullish-coalescing",
      "snippet": "left.summaryIndex ?? Number.MAX_SAFE_INTEGER",
      "context": "leftSummary = left.summaryIndex ?? Number.MAX_SAFE_INTEGER"
    },
    {
      "description": "Reasoning segment sort treats missing summaryIndex as MAX_SAFE_INTEGER for stable ordering.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_f00d79120a8b",
      "file": "src/mapping.ts",
      "line": 131,
      "col": 24,
      "kind": "nullish-coalescing",
      "snippet": "right.summaryIndex ?? Number.MAX_SAFE_INTEGER",
      "context": "rightSummary = right.summaryIndex ?? Number.MAX_SAFE_INTEGER"
    },
    {
      "description": "Reasoning segment sort treats missing contentIndex as MAX_SAFE_INTEGER for stable ordering.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_a3070f6ae9ef",
      "file": "src/mapping.ts",
      "line": 135,
      "col": 23,
      "kind": "nullish-coalescing",
      "snippet": "left.contentIndex ?? Number.MAX_SAFE_INTEGER",
      "context": "leftContent = left.contentIndex ?? Number.MAX_SAFE_INTEGER"
    },
    {
      "description": "Reasoning segment sort treats missing contentIndex as MAX_SAFE_INTEGER so explicit indexes win ordering.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_b34b56f57ea7",
      "file": "src/mapping.ts",
      "line": 136,
      "col": 24,
      "kind": "nullish-coalescing",
      "snippet": "right.contentIndex ?? Number.MAX_SAFE_INTEGER",
      "context": "rightContent = right.contentIndex ?? Number.MAX_SAFE_INTEGER"
    },
    {
      "description": "Overlay extraction defaults missing durable messageId to null and skips entry; protects integrity but may hide malformed payloads.",
      "userApproved": false,
      "riskLevel": "medium",
      "id": "FB_1d81e766f491",
      "file": "src/mapping.ts",
      "line": 156,
      "col": 25,
      "kind": "nullish-coalescing",
      "snippet": "durableDelta?.messageId ?? null",
      "context": "messageId = durableDelta?.messageId ?? null"
    },
    {
      "description": "Overlay extraction defaults missing text delta to null and skips entry; avoids corrupt merges but can hide malformed payloads.",
      "userApproved": false,
      "riskLevel": "medium",
      "id": "FB_55f0dd7dd787",
      "file": "src/mapping.ts",
      "line": 157,
      "col": 25,
      "kind": "nullish-coalescing",
      "snippet": "durableDelta?.delta ?? null",
      "context": "textDelta = durableDelta?.delta ?? null"
    },
    {
      "description": "Overlay message text concatenation defaults missing existing text to empty string.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_b3e2645adcb8",
      "file": "src/mapping.ts",
      "line": 166,
      "col": 18,
      "kind": "nullish-coalescing",
      "snippet": "existing?.text ?? \"\"",
      "context": "byKey.set(key, { turnId, messageId, text: `${existing?.text ?? \"\"}${textDelta}`, status: existing?.status ?? \"streaming\", ...(existing?.error ? { error: existing.error } : {}), ..."
    },
    {
      "description": "Overlay message status defaults to streaming when no existing status is present; can mask absent status transitions in malformed streams.",
      "userApproved": false,
      "riskLevel": "medium",
      "id": "FB_0ed2b78b0b6e",
      "file": "src/mapping.ts",
      "line": 167,
      "col": 17,
      "kind": "nullish-coalescing",
      "snippet": "existing?.status ?? \"streaming\"",
      "context": "byKey.set(key, { turnId, messageId, text: `${existing?.text ?? \"\"}${textDelta}`, status: existing?.status ?? \"streaming\", ...(existing?.error ? { error: existing.error } : {}), ..."
    },
    {
      "description": "When item text is absent, merge falls back to existing overlay text (or empty) which may conceal incomplete payload text fields.",
      "userApproved": false,
      "riskLevel": "medium",
      "id": "FB_80a1edd0f220",
      "file": "src/mapping.ts",
      "line": 182,
      "col": 24,
      "kind": "nullish-coalescing",
      "snippet": "message.text ?? (existing?.text ?? \"\")",
      "context": "nextText = message.text ?? (existing?.text ?? \"\")"
    },
    {
      "description": "Overlay message text concatenation defaults missing existing text to empty string.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_1193dc5ab70c",
      "file": "src/mapping.ts",
      "line": 182,
      "col": 41,
      "kind": "nullish-coalescing",
      "snippet": "existing?.text ?? \"\"",
      "context": "nextText = message.text ?? (existing?.text ?? \"\")"
    },
    {
      "description": "Overlay message status defaults to streaming when no existing status is present; can mask absent status transitions in malformed streams.",
      "userApproved": false,
      "riskLevel": "medium",
      "id": "FB_93bb2e189bc4",
      "file": "src/mapping.ts",
      "line": 187,
      "col": 51,
      "kind": "nullish-coalescing",
      "snippet": "existing?.status ?? \"streaming\"",
      "context": "byKey.set(key, { turnId, messageId: message.messageId, text: nextText, status: message.status === \"streaming\" ? (existing?.status ?? \"streaming\") : \"completed\", ...(existing?.er..."
    },
    {
      "description": "Reasoning overlay aggregation excludes raw channel by default unless includeRaw is explicitly enabled.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_f6df5ade3a2a",
      "file": "src/mapping.ts",
      "line": 225,
      "col": 22,
      "kind": "nullish-coalescing",
      "snippet": "options?.includeRaw ?? false",
      "context": "includeRaw = options?.includeRaw ?? false"
    },
    {
      "description": "Overlay message text concatenation defaults missing existing text to empty string.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_1f9aece01330",
      "file": "src/mapping.ts",
      "line": 267,
      "col": 16,
      "kind": "nullish-coalescing",
      "snippet": "existing?.text ?? \"\"",
      "context": "byKey.set(key, { turnId, itemId: reasoningDelta.itemId, channel: reasoningDelta.channel, segmentType: reasoningDelta.segmentType, text: reasoningDelta.segmentType === \"textDelta..."
    },
    {
      "description": "Reasoning textDelta concatenation defaults missing delta fragment to empty string.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_c729e01078bf",
      "file": "src/mapping.ts",
      "line": 267,
      "col": 39,
      "kind": "nullish-coalescing",
      "snippet": "reasoningDelta.delta ?? \"\"",
      "context": "byKey.set(key, { turnId, itemId: reasoningDelta.itemId, channel: reasoningDelta.channel, segmentType: reasoningDelta.segmentType, text: reasoningDelta.segmentType === \"textDelta..."
    },
    {
      "description": "Reasoning overlay aggregation excludes raw channel by default unless includeRaw is explicitly enabled.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_ff5b630ce31a",
      "file": "src/mapping.ts",
      "line": 286,
      "col": 22,
      "kind": "nullish-coalescing",
      "snippet": "options?.includeRaw ?? false",
      "context": "includeRaw = options?.includeRaw ?? false"
    },
    {
      "description": "Status-priority comparison treats unknown overlay status as priority 0.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_310953dae2c2",
      "file": "src/mapping.ts",
      "line": 349,
      "col": 8,
      "kind": "nullish-coalescing",
      "snippet": "STATUS_PRIORITY[overlayStatus] ?? 0",
      "context": "if ((STATUS_PRIORITY[overlayStatus] ?? 0) > (STATUS_PRIORITY[durableStatus] ?? 0)) { return overlayStatus; }"
    },
    {
      "description": "Status-priority comparison treats unknown durable status as priority 0.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_546c20846f5c",
      "file": "src/mapping.ts",
      "line": 349,
      "col": 48,
      "kind": "nullish-coalescing",
      "snippet": "STATUS_PRIORITY[durableStatus] ?? 0",
      "context": "if ((STATUS_PRIORITY[overlayStatus] ?? 0) > (STATUS_PRIORITY[durableStatus] ?? 0)) { return overlayStatus; }"
    },
    {
      "description": "Durable text for mcpToolCall falls back to server/tool identifier when item.error.message is missing; useful but may lose actionable error detail.",
      "userApproved": false,
      "riskLevel": "medium",
      "id": "FB_eb8ff043bca6",
      "file": "src/protocol/events.ts",
      "line": 421,
      "col": 14,
      "kind": "nullish-coalescing",
      "snippet": "item.error?.message ?? `${item.server}/${item.tool}`",
      "context": "return item.error?.message ?? `${item.server}/${item.tool}`;"
    },
    {
      "description": "Turn-id extraction returns undefined when params.turn.id is absent, preserving explicit missing-turn semantics.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_2afa9802ba21",
      "file": "src/protocol/events.ts",
      "line": 521,
      "col": 14,
      "kind": "nullish-coalescing",
      "snippet": "getStringField(params.turn, \"id\") ?? undefined",
      "context": "return getStringField(params.turn, \"id\") ?? undefined;"
    },
    {
      "description": "Turn-id extraction returns undefined when params.turnId is missing for turn/item thread-scoped events.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_5cf0df84b354",
      "file": "src/protocol/events.ts",
      "line": 526,
      "col": 14,
      "kind": "nullish-coalescing",
      "snippet": "getStringField(params, \"turnId\") ?? undefined",
      "context": "return getStringField(params, \"turnId\") ?? undefined;"
    },
    {
      "description": "Turn-id extraction returns undefined when params.turnId is missing for turn/item thread-scoped events.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_259756b60ee3",
      "file": "src/protocol/events.ts",
      "line": 544,
      "col": 14,
      "kind": "nullish-coalescing",
      "snippet": "getStringField(params, \"turnId\") ?? undefined",
      "context": "return getStringField(params, \"turnId\") ?? undefined;"
    },
    {
      "description": "Payload turn-id extractor returns null when parsed message has no turn id.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_247212fb661e",
      "file": "src/protocol/events.ts",
      "line": 555,
      "col": 10,
      "kind": "nullish-coalescing",
      "snippet": "extractTurnId(parsed) ?? null",
      "context": "return extractTurnId(parsed) ?? null;"
    },
    {
      "description": "Risk: inferring status when payload omits it can hide schema regressions and misclassify malformed item payloads as valid inProgress/completed states.",
      "userApproved": false,
      "riskLevel": "medium",
      "id": "FB_a6b31c24f6c9",
      "file": "src/protocol/events.ts",
      "line": 776,
      "col": 13,
      "kind": "nullish-coalescing",
      "snippet": "status ?? (message.method === \"item/started\" ? \"inProgress\" : \"completed\")",
      "context": "return { itemId: item.id, itemType: item.type, status: status ?? (message.method === \"item/started\" ? \"inProgress\" : \"completed\"), payloadJson: JSON.stringify(message), cursorEn..."
    },
    {
      "description": "Item snapshot status fallback derives inProgress/completed from event kind when payload status is absent; may hide schema regressions.",
      "userApproved": false,
      "riskLevel": "medium",
      "id": "FB_b51aef2c67cd",
      "file": "src/protocol/events.ts",
      "line": 801,
      "col": 13,
      "kind": "nullish-coalescing",
      "snippet": "status ?? (kind === \"item/started\" ? \"inProgress\" : \"completed\")",
      "context": "return { itemId: parsed.params.item.id, itemType: parsed.params.item.type, status: status ?? (kind === \"item/started\" ? \"inProgress\" : \"completed\"), payloadJson, cursorEnd, };"
    },
    {
      "description": "AJV error formatter defaults missing error message text to \"invalid\" for stable diagnostics.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_b0d22014ddb4",
      "file": "src/protocol/parser.ts",
      "line": 60,
      "col": 24,
      "kind": "nullish-coalescing",
      "snippet": "err.message ?? \"invalid\"",
      "context": "return `${at}: ${err.message ?? \"invalid\"}`;"
    },
    {
      "description": "Activity authority helper defaults message timestamp resolver to createdAt-based candidate timestamp.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_1a259ca4c67c",
      "file": "src/react/activityAuthority.ts",
      "line": 104,
      "col": 3,
      "kind": "parameter-default",
      "snippet": "resolveTimestamp: (message: CodexThreadActivityMessageLike) => number = (message) => candidateTimestamp(message.createdAt)",
      "context": "function latestMessageByStatus( messages: CodexThreadActivityMessageLike[], status: CodexThreadActivityMessageLike[\"status\"], resolveTimestamp: (message: CodexThreadActivityMess..."
    },
    {
      "description": "Dispatch activity timestamp prefers updatedAt, falling back to createdAt when updatedAt is missing.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_1801f2cd9ef7",
      "file": "src/react/activityAuthority.ts",
      "line": 134,
      "col": 37,
      "kind": "nullish-coalescing",
      "snippet": "dispatch.updatedAt ?? dispatch.createdAt",
      "context": "candidate: Candidate = { timestamp: candidateTimestamp(dispatch.updatedAt ?? dispatch.createdAt), ...(dispatch.turnId !== undefined ? { activeTurnId: dispatch.turnId } : {}), }"
    },
    {
      "description": "Activity authority helper defaults turn timestamp resolver to startedAt-based candidate timestamp.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_79604f830a94",
      "file": "src/react/activityAuthority.ts",
      "line": 147,
      "col": 3,
      "kind": "parameter-default",
      "snippet": "resolveTimestamp: (turn: CodexThreadActivityTurnLike) => number = (turn) => candidateTimestamp(turn.startedAt)",
      "context": "function latestTurnByStatus( turns: CodexThreadActivityTurnLike[], predicate: (status: string) => boolean, resolveTimestamp: (turn: CodexThreadActivityTurnLike) => number = (tur..."
    },
    {
      "description": "Activity derivation defaults missing recentMessages collection to empty list.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_475868f7fd8f",
      "file": "src/react/activityAuthority.ts",
      "line": 215,
      "col": 20,
      "kind": "nullish-coalescing",
      "snippet": "state?.recentMessages ?? []",
      "context": "messages = state?.recentMessages ?? []"
    },
    {
      "description": "Activity derivation defaults missing dispatches collection to empty list.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_72e158fe21a0",
      "file": "src/react/activityAuthority.ts",
      "line": 216,
      "col": 22,
      "kind": "nullish-coalescing",
      "snippet": "state?.dispatches ?? []",
      "context": "dispatches = state?.dispatches ?? []"
    },
    {
      "description": "Activity derivation defaults missing turns collection to empty list.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_b04ed36848e2",
      "file": "src/react/activityAuthority.ts",
      "line": 217,
      "col": 17,
      "kind": "nullish-coalescing",
      "snippet": "state?.turns ?? []",
      "context": "turns = state?.turns ?? []"
    },
    {
      "description": "Activity derivation defaults missing pendingApprovals collection to empty list.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_95e2a9d9f4d2",
      "file": "src/react/activityAuthority.ts",
      "line": 218,
      "col": 28,
      "kind": "nullish-coalescing",
      "snippet": "state?.pendingApprovals ?? []",
      "context": "pendingApprovals = state?.pendingApprovals ?? []"
    },
    {
      "description": "Activity derivation defaults missing streamStats collection to empty list.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_5f7d92338b29",
      "file": "src/react/activityAuthority.ts",
      "line": 219,
      "col": 23,
      "kind": "nullish-coalescing",
      "snippet": "state?.streamStats ?? []",
      "context": "streamStats = state?.streamStats ?? []"
    },
    {
      "description": "Activity derivation defaults missing activeStreams collection to empty list.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_79170986d6c5",
      "file": "src/react/activityAuthority.ts",
      "line": 220,
      "col": 25,
      "kind": "nullish-coalescing",
      "snippet": "state?.activeStreams ?? []",
      "context": "activeStreams = state?.activeStreams ?? []"
    },
    {
      "description": "Activity derivation defaults missing lifecycleMarkers collection to empty list.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_df214c77063f",
      "file": "src/react/activityAuthority.ts",
      "line": 221,
      "col": 28,
      "kind": "nullish-coalescing",
      "snippet": "state?.lifecycleMarkers ?? []",
      "context": "lifecycleMarkers = state?.lifecycleMarkers ?? []"
    },
    {
      "description": "Terminal message timestamp prioritizes completedAt then updatedAt then createdAt; fallback chain can mask incomplete terminal timestamps.",
      "userApproved": false,
      "riskLevel": "medium",
      "id": "FB_520a01b9995d",
      "file": "src/react/activityAuthority.ts",
      "line": 229,
      "col": 24,
      "kind": "nullish-coalescing",
      "snippet": "message.completedAt ?? message.updatedAt ?? message.createdAt",
      "context": "(message: CodexThreadActivityMessageLike): number => candidateTimestamp(message.completedAt ?? message.updatedAt ?? message.createdAt)"
    },
    {
      "description": "Terminal message timestamp falls back from completedAt to updatedAt when completion timestamp is missing.",
      "userApproved": false,
      "riskLevel": "medium",
      "id": "FB_3aa394c3c351",
      "file": "src/react/activityAuthority.ts",
      "line": 229,
      "col": 24,
      "kind": "nullish-coalescing",
      "snippet": "message.completedAt ?? message.updatedAt",
      "context": "(message: CodexThreadActivityMessageLike): number => candidateTimestamp(message.completedAt ?? message.updatedAt ?? message.createdAt)"
    },
    {
      "description": "Terminal turn timestamp falls back from completedAt to startedAt when completion timestamp is missing.",
      "userApproved": false,
      "riskLevel": "medium",
      "id": "FB_edb58ae3cfdc",
      "file": "src/react/activityAuthority.ts",
      "line": 231,
      "col": 24,
      "kind": "nullish-coalescing",
      "snippet": "turn.completedAt ?? turn.startedAt",
      "context": "(turn: CodexThreadActivityTurnLike): number => candidateTimestamp(turn.completedAt ?? turn.startedAt)"
    },
    {
      "description": "Latest terminal boundary timestamp defaults to 0 when no terminal boundary candidate exists.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_590cea09300b",
      "file": "src/react/activityAuthority.ts",
      "line": 260,
      "col": 36,
      "kind": "nullish-coalescing",
      "snippet": "latestTerminalBoundary?.timestamp ?? 0",
      "context": "latestTerminalBoundaryTs = latestTerminalBoundary?.timestamp ?? 0"
    },
    {
      "description": "Streaming-state arbitration uses 0 timestamp when no active stream candidate is present.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_1bdf6dbc79cc",
      "file": "src/react/activityAuthority.ts",
      "line": 284,
      "col": 33,
      "kind": "nullish-coalescing",
      "snippet": "activeStream?.timestamp ?? 0",
      "context": "activeStreamTimestamp = activeStream?.timestamp ?? 0"
    },
    {
      "description": "Streaming-state arbitration uses -1 when no stream-drain marker exists so real stream timestamps win.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_ac21cd43ae9e",
      "file": "src/react/activityAuthority.ts",
      "line": 285,
      "col": 76,
      "kind": "nullish-coalescing",
      "snippet": "streamDrainCompleted?.timestamp ?? -1",
      "context": "if ((hasActiveStreams || canStreamFromStats) && activeStreamTimestamp > (streamDrainCompleted?.timestamp ?? -1)) { return { phase: \"streaming\", ...(activeStream?.activeTurnId !=..."
    },
    {
      "description": "Branch activity selection defaults explicit turnIds list to empty list when omitted.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_2c1d46a83e3f",
      "file": "src/react/branchActivity.ts",
      "line": 34,
      "col": 24,
      "kind": "nullish-coalescing",
      "snippet": "options.turnIds ?? []",
      "context": "for (const turnId of options.turnIds ?? []) { if (turnId) { selected.add(turnId); } }"
    },
    {
      "description": "Branch activity selection defaults descendantTurnIds list to empty list when omitted.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_0e9990cda45c",
      "file": "src/react/branchActivity.ts",
      "line": 39,
      "col": 24,
      "kind": "nullish-coalescing",
      "snippet": "options.descendantTurnIds ?? []",
      "context": "for (const turnId of options.descendantTurnIds ?? []) { if (turnId) { selected.add(turnId); } }"
    },
    {
      "description": "Branch activity defaults includeDescendants to true; omitted option broadens selected turn set by startedAt lineage.",
      "userApproved": false,
      "riskLevel": "medium",
      "id": "FB_75c4b28ddc0f",
      "file": "src/react/branchActivity.ts",
      "line": 48,
      "col": 30,
      "kind": "nullish-coalescing",
      "snippet": "options.includeDescendants ?? true",
      "context": "includeDescendants = options.includeDescendants ?? true"
    },
    {
      "description": "Branch activity defaults missing turns collection to empty list before filtering by selected branch.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_66a513c3c847",
      "file": "src/react/branchActivity.ts",
      "line": 53,
      "col": 17,
      "kind": "nullish-coalescing",
      "snippet": "state?.turns ?? []",
      "context": "turns = state?.turns ?? []"
    },
    {
      "description": "Branch activity normalizes missing options to empty object for deterministic branching behavior.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_22b65b00f8ad",
      "file": "src/react/branchActivity.ts",
      "line": 79,
      "col": 23,
      "kind": "nullish-coalescing",
      "snippet": "options ?? {}",
      "context": "nextOptions = options ?? {}"
    },
    {
      "description": "Branch activity defaults missing pendingApprovals collection to empty list before branch filtering.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_a73421f3d8b5",
      "file": "src/react/branchActivity.ts",
      "line": 90,
      "col": 24,
      "kind": "nullish-coalescing",
      "snippet": "state?.pendingApprovals ?? []",
      "context": "filteredState: CodexBranchActivityThreadState = { pendingApprovals: (state?.pendingApprovals ?? []).filter( (approval) => hasTurnId(approval) && typeof approval.turnId === \"stri..."
    },
    {
      "description": "Branch activity defaults missing recentMessages collection to empty list before branch filtering.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_dd72ef9b7bc8",
      "file": "src/react/branchActivity.ts",
      "line": 94,
      "col": 22,
      "kind": "nullish-coalescing",
      "snippet": "state?.recentMessages ?? []",
      "context": "filteredState: CodexBranchActivityThreadState = { pendingApprovals: (state?.pendingApprovals ?? []).filter( (approval) => hasTurnId(approval) && typeof approval.turnId === \"stri..."
    },
    {
      "description": "Branch activity defaults missing dispatches collection to empty list before branch filtering.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_266be21d9925",
      "file": "src/react/branchActivity.ts",
      "line": 97,
      "col": 18,
      "kind": "nullish-coalescing",
      "snippet": "state?.dispatches ?? []",
      "context": "filteredState: CodexBranchActivityThreadState = { pendingApprovals: (state?.pendingApprovals ?? []).filter( (approval) => hasTurnId(approval) && typeof approval.turnId === \"stri..."
    },
    {
      "description": "Branch activity defaults missing streamStats collection to empty list.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_a0785fd6f13d",
      "file": "src/react/branchActivity.ts",
      "line": 100,
      "col": 18,
      "kind": "nullish-coalescing",
      "snippet": "state?.streamStats ?? []",
      "context": "filteredState: CodexBranchActivityThreadState = { pendingApprovals: (state?.pendingApprovals ?? []).filter( (approval) => hasTurnId(approval) && typeof approval.turnId === \"stri..."
    },
    {
      "description": "Branch activity defaults missing activeStreams collection to empty list before branch filtering.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_e60a00224e0f",
      "file": "src/react/branchActivity.ts",
      "line": 101,
      "col": 21,
      "kind": "nullish-coalescing",
      "snippet": "state?.activeStreams ?? []",
      "context": "filteredState: CodexBranchActivityThreadState = { pendingApprovals: (state?.pendingApprovals ?? []).filter( (approval) => hasTurnId(approval) && typeof approval.turnId === \"stri..."
    },
    {
      "description": "Branch activity defaults missing lifecycleMarkers collection to empty list before branch filtering.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_af4ae7038b8b",
      "file": "src/react/branchActivity.ts",
      "line": 104,
      "col": 24,
      "kind": "nullish-coalescing",
      "snippet": "state?.lifecycleMarkers ?? []",
      "context": "filteredState: CodexBranchActivityThreadState = { pendingApprovals: (state?.pendingApprovals ?? []).filter( (approval) => hasTurnId(approval) && typeof approval.turnId === \"stri..."
    },
    {
      "description": "Branch activity defaults missing turns collection to empty list before filtering by selected branch.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_c26cf32d36a5",
      "file": "src/react/branchActivity.ts",
      "line": 107,
      "col": 13,
      "kind": "nullish-coalescing",
      "snippet": "state?.turns ?? []",
      "context": "filteredState: CodexBranchActivityThreadState = { pendingApprovals: (state?.pendingApprovals ?? []).filter( (approval) => hasTurnId(approval) && typeof approval.turnId === \"stri..."
    },
    {
      "description": "Branch signal check treats missing pendingApprovals length as 0.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_0b4c6a09d559",
      "file": "src/react/branchActivity.ts",
      "line": 113,
      "col": 6,
      "kind": "nullish-coalescing",
      "snippet": "filteredState.pendingApprovals?.length ?? 0",
      "context": "hasBranchSignals = (filteredState.pendingApprovals?.length ?? 0) > 0 || (filteredState.recentMessages?.length ?? 0) > 0 || (filteredState.dispatches?.length ?? 0) > 0 || (filter..."
    },
    {
      "description": "Branch signal check treats missing recentMessages length as 0.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_37b1e9e72c56",
      "file": "src/react/branchActivity.ts",
      "line": 114,
      "col": 6,
      "kind": "nullish-coalescing",
      "snippet": "filteredState.recentMessages?.length ?? 0",
      "context": "hasBranchSignals = (filteredState.pendingApprovals?.length ?? 0) > 0 || (filteredState.recentMessages?.length ?? 0) > 0 || (filteredState.dispatches?.length ?? 0) > 0 || (filter..."
    },
    {
      "description": "Branch signal check treats missing dispatches length as 0.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_62e92379917d",
      "file": "src/react/branchActivity.ts",
      "line": 115,
      "col": 6,
      "kind": "nullish-coalescing",
      "snippet": "filteredState.dispatches?.length ?? 0",
      "context": "hasBranchSignals = (filteredState.pendingApprovals?.length ?? 0) > 0 || (filteredState.recentMessages?.length ?? 0) > 0 || (filteredState.dispatches?.length ?? 0) > 0 || (filter..."
    },
    {
      "description": "Branch signal check treats missing activeStreams length as 0.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_bac8457c2255",
      "file": "src/react/branchActivity.ts",
      "line": 116,
      "col": 6,
      "kind": "nullish-coalescing",
      "snippet": "filteredState.activeStreams?.length ?? 0",
      "context": "hasBranchSignals = (filteredState.pendingApprovals?.length ?? 0) > 0 || (filteredState.recentMessages?.length ?? 0) > 0 || (filteredState.dispatches?.length ?? 0) > 0 || (filter..."
    },
    {
      "description": "Branch signal check treats missing lifecycleMarkers length as 0.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_00045fc73dc3",
      "file": "src/react/branchActivity.ts",
      "line": 117,
      "col": 6,
      "kind": "nullish-coalescing",
      "snippet": "filteredState.lifecycleMarkers?.length ?? 0",
      "context": "hasBranchSignals = (filteredState.pendingApprovals?.length ?? 0) > 0 || (filteredState.recentMessages?.length ?? 0) > 0 || (filteredState.dispatches?.length ?? 0) > 0 || (filter..."
    },
    {
      "description": "Branch signal check treats missing turns length as 0.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_652adf099970",
      "file": "src/react/branchActivity.ts",
      "line": 118,
      "col": 6,
      "kind": "nullish-coalescing",
      "snippet": "filteredState.turns?.length ?? 0",
      "context": "hasBranchSignals = (filteredState.pendingApprovals?.length ?? 0) > 0 || (filteredState.recentMessages?.length ?? 0) > 0 || (filteredState.dispatches?.length ?? 0) > 0 || (filter..."
    },
    {
      "description": "TODO: add manual description",
      "userApproved": false,
      "riskLevel": "default",
      "id": "FB_51110bdce39d",
      "file": "src/react/codexOptimistic.ts",
      "line": 177,
      "col": 22,
      "kind": "nullish-coalescing",
      "snippet": "config.position ?? \"start\"",
      "context": "position = config.position ?? \"start\""
    },
    {
      "description": "TODO: add manual description",
      "userApproved": false,
      "riskLevel": "default",
      "id": "FB_944fbe4156fd",
      "file": "src/react/codexOptimistic.ts",
      "line": 330,
      "col": 27,
      "kind": "nullish-coalescing",
      "snippet": "row.value?.page ?? []",
      "context": "for (const message of row.value?.page ?? []) { if (message.turnId !== args.turnId) { continue; } maxOrder = Math.max(maxOrder, message.orderInTurn); }"
    },
    {
      "description": "TODO: add manual description",
      "userApproved": false,
      "riskLevel": "default",
      "id": "FB_a95390e2a488",
      "file": "src/react/codexOptimistic.ts",
      "line": 351,
      "col": 33,
      "kind": "nullish-coalescing",
      "snippet": "args.messageId ?? randomId()",
      "context": "userMessageId = args.messageId ?? randomId()"
    },
    {
      "description": "TODO: add manual description",
      "userApproved": false,
      "riskLevel": "default",
      "id": "FB_a53d72a6e079",
      "file": "src/react/codexOptimistic.ts",
      "line": 384,
      "col": 38,
      "kind": "nullish-coalescing",
      "snippet": "args.assistantPlaceholderId ?? randomId()",
      "context": "assistantMessageId = args.assistantPlaceholderId ?? randomId()"
    },
    {
      "description": "TODO: add manual description",
      "userApproved": false,
      "riskLevel": "default",
      "id": "FB_1cdcd13ba233",
      "file": "src/react/codexOptimistic.ts",
      "line": 447,
      "col": 26,
      "kind": "nullish-coalescing",
      "snippet": "current.startedAt ?? now",
      "context": "return { ...current, status: \"running\", phase: \"running\", startedAt: current.startedAt ?? now, updatedAt: now, };"
    },
    {
      "description": "Provider default initialNumItems is 30 when caller does not specify pagination size.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_1ed3cdaaafd0",
      "file": "src/react/CodexProvider.tsx",
      "line": 67,
      "col": 3,
      "kind": "binding-default",
      "snippet": "initialNumItems = 30",
      "context": "export function CodexProvider<Actor extends Record<string, unknown> = Record<string, unknown>>({ preset, actor, initialNumItems = 30, stream = true, children, }: CodexProviderPr..."
    },
    {
      "description": "Provider defaults streaming mode to true unless explicitly overridden.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_136fac1e63f7",
      "file": "src/react/CodexProvider.tsx",
      "line": 68,
      "col": 3,
      "kind": "binding-default",
      "snippet": "stream = true",
      "context": "export function CodexProvider<Actor extends Record<string, unknown> = Record<string, unknown>>({ preset, actor, initialNumItems = 30, stream = true, children, }: CodexProviderPr..."
    },
    {
      "description": "TODO: add manual description",
      "userApproved": false,
      "riskLevel": "default",
      "id": "FB_8d4640473e64",
      "file": "src/react/CodexProvider.tsx",
      "line": 73,
      "col": 14,
      "kind": "nullish-coalescing",
      "snippet": "actor ?? {}",
      "context": "() => ({ actor: actor ?? {}, listThreadMessages: preset.listThreadMessages, threadSnapshot: preset.threadSnapshot, ...(preset.listPendingServerRequests !== undefined ? { listPen..."
    },
    {
      "description": "Dynamic tool derivation defaults missing request list to empty array.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_94053e4e451b",
      "file": "src/react/dynamicTools.ts",
      "line": 75,
      "col": 16,
      "kind": "nullish-coalescing",
      "snippet": "requests ?? []",
      "context": "list = requests ?? []"
    },
    {
      "description": "Ingest health defaults missing streamStats to empty list.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_6332c4bed1ea",
      "file": "src/react/ingestHealth.ts",
      "line": 99,
      "col": 23,
      "kind": "nullish-coalescing",
      "snippet": "state.streamStats ?? []",
      "context": "streamStats = state.streamStats ?? []"
    },
    {
      "description": "Ingest health defaults missing recentMessages to empty list.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_95465ae2091f",
      "file": "src/react/ingestHealth.ts",
      "line": 100,
      "col": 20,
      "kind": "nullish-coalescing",
      "snippet": "state.recentMessages ?? []",
      "context": "messages = state.recentMessages ?? []"
    },
    {
      "description": "Ingest health defaults missing pendingApprovals to empty list.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_a44ae17ba99d",
      "file": "src/react/ingestHealth.ts",
      "line": 101,
      "col": 28,
      "kind": "nullish-coalescing",
      "snippet": "state.pendingApprovals ?? []",
      "context": "pendingApprovals = state.pendingApprovals ?? []"
    },
    {
      "description": "Ingest health defaults missing dispatches to empty list.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_51968000b049",
      "file": "src/react/ingestHealth.ts",
      "line": 102,
      "col": 22,
      "kind": "nullish-coalescing",
      "snippet": "state.dispatches ?? []",
      "context": "dispatches = state.dispatches ?? []"
    },
    {
      "description": "Ingest health defaults missing turns to empty list.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_df01c11b114f",
      "file": "src/react/ingestHealth.ts",
      "line": 103,
      "col": 17,
      "kind": "nullish-coalescing",
      "snippet": "state.turns ?? []",
      "context": "turns = state.turns ?? []"
    },
    {
      "description": "Token usage modelContextWindow defaults to null when latest turn omits the field.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_ea5024892acc",
      "file": "src/react/tokenUsage.ts",
      "line": 45,
      "col": 25,
      "kind": "nullish-coalescing",
      "snippet": "latest.modelContextWindow ?? null",
      "context": "return { status: \"ready\", turns: rawTurns, cumulative: latest.total, modelContextWindow: latest.modelContextWindow ?? null, };"
    },
    {
      "description": "useCodex assumes actorReady=true by default unless explicitly set false.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_6ac2fed55648",
      "file": "src/react/useCodex.ts",
      "line": 160,
      "col": 22,
      "kind": "nullish-coalescing",
      "snippet": "options.actorReady ?? true",
      "context": "actorReady = options.actorReady ?? true"
    },
    {
      "description": "useCodex falls back initialNumItems to provider default when option is omitted.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_70c005d71f05",
      "file": "src/react/useCodex.ts",
      "line": 161,
      "col": 27,
      "kind": "nullish-coalescing",
      "snippet": "options.initialNumItems ?? ctx.defaultInitialNumItems",
      "context": "initialNumItems = options.initialNumItems ?? ctx.defaultInitialNumItems"
    },
    {
      "description": "useCodex falls back stream option to provider default when option is omitted.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_0277a86feadd",
      "file": "src/react/useCodex.ts",
      "line": 162,
      "col": 18,
      "kind": "nullish-coalescing",
      "snippet": "options.stream ?? ctx.defaultStream",
      "context": "stream = options.stream ?? ctx.defaultStream"
    },
    {
      "description": "TODO: add manual description",
      "userApproved": false,
      "riskLevel": "default",
      "id": "FB_510b0966f5c5",
      "file": "src/react/useCodex.ts",
      "line": 169,
      "col": 11,
      "kind": "nullish-coalescing",
      "snippet": "threadsConfig?.list ?? { query: ctx.listThreadMessages, args: \"skip\", }",
      "context": "threadsResult = useCodexThreads({ list: threadsConfig?.list ?? { query: ctx.listThreadMessages, args: \"skip\", }, ...(threadsConfig?.controls ? { controls: threadsConfig.controls..."
    },
    {
      "description": "TODO: add manual description",
      "userApproved": false,
      "riskLevel": "default",
      "id": "FB_2d65925752e8",
      "file": "src/react/useCodex.ts",
      "line": 182,
      "col": 35,
      "kind": "nullish-coalescing",
      "snippet": "options.conversationId ?? (threadsConfig ? threadsResult.selectedConversationId : null) ?? null",
      "context": "effectiveConversationId = options.conversationId ?? (threadsConfig ? threadsResult.selectedConversationId : null) ?? null"
    },
    {
      "description": "TODO: add manual description",
      "userApproved": false,
      "riskLevel": "default",
      "id": "FB_68b265ca9dd1",
      "file": "src/react/useCodex.ts",
      "line": 182,
      "col": 35,
      "kind": "nullish-coalescing",
      "snippet": "options.conversationId ?? (threadsConfig ? threadsResult.selectedConversationId : null)",
      "context": "effectiveConversationId = options.conversationId ?? (threadsConfig ? threadsResult.selectedConversationId : null) ?? null"
    },
    {
      "description": "Manual review pending: fallback intentionally allowlisted; refine this description.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "FB_86f903c58c68",
      "file": "src/react/useCodex.ts",
      "line": 242,
      "col": 7,
      "kind": "nullish-coalescing",
      "snippet": "tokenUsageQueryRef ?? ctx.listThreadMessages",
      "context": "tokenUsageQuery: FunctionReference< \"query\", \"public\", Record<string, unknown>, unknown > = tokenUsageQueryRef ?? ctx.listThreadMessages"
    },
    {
      "description": "TODO: add manual description",
      "userApproved": false,
      "riskLevel": "default",
      "id": "FB_dff77057ebc6",
      "file": "src/react/useCodex.ts",
      "line": 263,
      "col": 20,
      "kind": "nullish-coalescing",
      "snippet": "threadState ?? null",
      "context": "() => ({ ...chat, tokenUsage, threads: threadsConfig ? threadsResult : null, threadState: threadState ?? null, effectiveConversationId, })"
    },
    {
      "description": "useCodexChat initializes disabledTools from config, defaulting to empty list.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_6724fe804730",
      "file": "src/react/useCodexChat.ts",
      "line": 185,
      "col": 23,
      "kind": "nullish-coalescing",
      "snippet": "config.dynamicTools?.disabledTools ?? []",
      "context": "() => normalizeToolList(config.dynamicTools?.disabledTools ?? [])"
    },
    {
      "description": "useCodexChat merges dynamic tool handlers with empty object when config handlers are absent.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_0b15ea8640bd",
      "file": "src/react/useCodexChat.ts",
      "line": 278,
      "col": 11,
      "kind": "nullish-coalescing",
      "snippet": "config.dynamicTools?.handlers ?? {}",
      "context": "handlers: CodexDynamicToolsHandlerMap = { ...(config.dynamicTools?.handlers ?? {}), ...toolOverrides, }"
    },
    {
      "description": "Conversation controller falls back dynamic-tools query to thread-state query when dedicated dynamic query is absent; may couple tool handling to thread query shape.",
      "userApproved": false,
      "riskLevel": "medium",
      "id": "FB_9b0fb18fdd37",
      "file": "src/react/useCodexConversationController.ts",
      "line": 211,
      "col": 5,
      "kind": "nullish-coalescing",
      "snippet": "config.dynamicTools?.query ?? config.threadState.query",
      "context": "dynamicToolsQuery: FunctionReference<\"query\", \"public\", Record<string, unknown>, unknown> = config.dynamicTools?.query ?? config.threadState.query"
    },
    {
      "description": "Conversation controller defaults dynamic-tools args to \"skip\" when args are omitted, disabling dynamic tool request fetch by default.",
      "userApproved": false,
      "riskLevel": "medium",
      "id": "FB_8814d9448b26",
      "file": "src/react/useCodexConversationController.ts",
      "line": 212,
      "col": 28,
      "kind": "nullish-coalescing",
      "snippet": "config.dynamicTools?.args ?? \"skip\"",
      "context": "dynamicToolsArgs = config.dynamicTools?.args ?? \"skip\""
    },
    {
      "description": "Conversation controller initializes composer text to empty string when no initialValue is configured.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_7ec850979210",
      "file": "src/react/useCodexConversationController.ts",
      "line": 224,
      "col": 54,
      "kind": "nullish-coalescing",
      "snippet": "config.composer?.initialValue ?? \"\"",
      "context": "[composerValue, setComposerValue] = useState(config.composer?.initialValue ?? \"\")"
    },
    {
      "description": "TODO: add manual description",
      "userApproved": false,
      "riskLevel": "default",
      "id": "FB_fc4450c2b405",
      "file": "src/react/useCodexConversationController.ts",
      "line": 235,
      "col": 17,
      "kind": "nullish-coalescing",
      "snippet": "threadStateData?.pendingApprovals ?? []",
      "context": "raw = threadStateData?.pendingApprovals ?? []"
    },
    {
      "description": "Composer send path uses current composer value when overrideText is not provided.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_57e53bbf3ed9",
      "file": "src/react/useCodexConversationController.ts",
      "line": 259,
      "col": 21,
      "kind": "nullish-coalescing",
      "snippet": "overrideText ?? composerValue",
      "context": "text = (overrideText ?? composerValue).trim()"
    },
    {
      "description": "TODO: add manual description",
      "userApproved": false,
      "riskLevel": "default",
      "id": "FB_a385ec2fec1e",
      "file": "src/react/useCodexConversationController.ts",
      "line": 263,
      "col": 33,
      "kind": "nullish-coalescing",
      "snippet": "config.composer.optimistic?.enabled ?? false",
      "context": "optimisticEnabled = config.composer.optimistic?.enabled ?? false"
    },
    {
      "description": "TODO: add manual description",
      "userApproved": false,
      "riskLevel": "default",
      "id": "FB_d664ec4d09ce",
      "file": "src/react/useCodexConversationController.ts",
      "line": 265,
      "col": 9,
      "kind": "nullish-coalescing",
      "snippet": "config.composer.optimistic?.includeAssistantPlaceholder ?? true",
      "context": "includeAssistantPlaceholder = config.composer.optimistic?.includeAssistantPlaceholder ?? true"
    },
    {
      "description": "Dynamic tools hook defaults enabled=true, so auto-processing is active unless explicitly disabled.",
      "userApproved": false,
      "riskLevel": "medium",
      "id": "FB_b32bafc7b6fa",
      "file": "src/react/useCodexDynamicTools.ts",
      "line": 152,
      "col": 10,
      "kind": "nullish-coalescing",
      "snippet": "options.enabled ?? true",
      "context": "if ((options.enabled ?? true) !== true) { return; }"
    },
    {
      "description": "Dynamic tools hook defaults autoHandle=true, enabling automatic handler execution by default.",
      "userApproved": false,
      "riskLevel": "medium",
      "id": "FB_262f7eaa688c",
      "file": "src/react/useCodexDynamicTools.ts",
      "line": 155,
      "col": 10,
      "kind": "nullish-coalescing",
      "snippet": "options.autoHandle ?? true",
      "context": "if ((options.autoHandle ?? true) !== true) { return; }"
    },
    {
      "description": "Dynamic tools hook returns empty requests list when query data is missing.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_756b40812fd5",
      "file": "src/react/useCodexDynamicTools.ts",
      "line": 184,
      "col": 17,
      "kind": "nullish-coalescing",
      "snippet": "requests ?? []",
      "context": "() => ({ requests: requests ?? [], calls, pendingCount: calls.length, runningRequestIds, lastError, runCall, respond, })"
    },
    {
      "description": "TODO: add manual description",
      "userApproved": false,
      "riskLevel": "default",
      "id": "FB_d951f4105190",
      "file": "src/react/useCodexRuntimeBridge.ts",
      "line": 49,
      "col": 5,
      "kind": "nullish-coalescing",
      "snippet": "options?.initialState ?? { running: false, conversationId: null, turnId: null, lastError: null }",
      "context": "[state, setState] = useState<CodexRuntimeBridgeState>( options?.initialState ?? { running: false, conversationId: null, turnId: null, lastError: null }, )"
    },
    {
      "description": "Streaming messages overlay is enabled by default unless options.enabled is explicitly false.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_155d2b1b5177",
      "file": "src/react/useCodexStreamingMessages.ts",
      "line": 17,
      "col": 54,
      "kind": "nullish-coalescing",
      "snippet": "options?.enabled ?? true",
      "context": "overlay = useCodexStreamOverlay(query, args, options?.enabled ?? true, { ...(options?.startOrder !== undefined ? { startOrder: options.startOrder } : {}), })"
    },
    {
      "description": "Streaming reasoning overlay is enabled by default unless options.enabled is explicitly false.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_3f212cd85464",
      "file": "src/react/useCodexStreamingReasoning.ts",
      "line": 20,
      "col": 54,
      "kind": "nullish-coalescing",
      "snippet": "options?.enabled ?? true",
      "context": "overlay = useCodexStreamOverlay(query, args, options?.enabled ?? true, { ...(options?.startOrder !== undefined ? { startOrder: options.startOrder } : {}), })"
    },
    {
      "description": "Streaming reasoning excludes raw reasoning segments by default unless includeRaw is explicitly enabled.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_ad31f76759f7",
      "file": "src/react/useCodexStreamingReasoning.ts",
      "line": 26,
      "col": 19,
      "kind": "nullish-coalescing",
      "snippet": "options?.includeRaw ?? false",
      "context": "byKey = extractCodexReasoningOverlaySegments(overlay.deltas, { includeRaw: options?.includeRaw ?? false, })"
    },
    {
      "description": "Stream overlay initializes per-stream cursor baseline to 0 when merging checkpoint cursors.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_3491d4737d9f",
      "file": "src/react/useCodexStreamOverlay.ts",
      "line": 90,
      "col": 9,
      "kind": "nullish-coalescing",
      "snippet": "nextOnly[checkpoint.streamId] ?? 0",
      "context": "nextOnly[checkpoint.streamId] = Math.max( nextOnly[checkpoint.streamId] ?? 0, checkpoint.cursor, );"
    },
    {
      "description": "Stream overlay treats missing current cursor as 0 when applying incoming deltas for a stream.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_fa32be130908",
      "file": "src/react/useCodexStreamOverlay.ts",
      "line": 135,
      "col": 27,
      "kind": "nullish-coalescing",
      "snippet": "nextCursors[delta.streamId] ?? 0",
      "context": "currentCursor = nextCursors[delta.streamId] ?? 0"
    },
    {
      "description": "Stream overlay initializes checkpoint merge cursor to 0 when current stream cursor is absent.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_8afe387b2384",
      "file": "src/react/useCodexStreamOverlay.ts",
      "line": 150,
      "col": 7,
      "kind": "nullish-coalescing",
      "snippet": "nextCursors[checkpoint.streamId] ?? 0",
      "context": "nextCursors[checkpoint.streamId] = Math.max( nextCursors[checkpoint.streamId] ?? 0, checkpoint.cursor, );"
    },
    {
      "description": "Stream overlay query args default each stream cursor to 0 when cursor map entry is missing.",
      "userApproved": false,
      "riskLevel": "low",
      "id": "FB_df288cecfccb",
      "file": "src/react/useCodexStreamOverlay.ts",
      "line": 221,
      "col": 19,
      "kind": "nullish-coalescing",
      "snippet": "overlayState.cursorsByStreamId[streamId] ?? 0",
      "context": "(streamId) => ({ streamId, cursor: overlayState.cursorsByStreamId[streamId] ?? 0, })"
    },
    {
      "description": "TODO: add manual description",
      "userApproved": false,
      "riskLevel": "default",
      "id": "FB_79878bf30643",
      "file": "src/react/useCodexThreads.ts",
      "line": 42,
      "col": 5,
      "kind": "nullish-coalescing",
      "snippet": "config.initialSelectedConversationId ?? null",
      "context": "[selectedConversationId, setSelectedConversationId] = useState<string | null>( config.initialSelectedConversationId ?? null, )"
    }
  ]
}
