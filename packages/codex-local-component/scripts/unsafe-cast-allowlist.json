{
  "version": 1,
  "entries": [
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_0da31f32eecc",
      "file": "src/app-server/client.ts",
      "line": 56,
      "col": 32,
      "snippet": "return { method, id, params } as RequestFor<M>;",
      "context": "prev:): RequestFor<M> { | next:}"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_819ef57bde58",
      "file": "src/component/deletionCascade.ts",
      "line": 24,
      "col": 60,
      "snippet": "await Promise.all(docs.map((doc) => ctx.db.delete(doc._id as never)));",
      "context": "prev:} | next:return docs.length;"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_9ef28baf7bd9",
      "file": "src/component/deletionUtils.ts",
      "line": 40,
      "col": 49,
      "snippet": "const parsed = JSON.parse(deletedCountsJson) as unknown;",
      "context": "prev:try { | next:if (!parsed || typeof parsed !== \"object\" || Array.isArray(parsed)) {"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_e8f9443fce34",
      "file": "src/component/deletionUtils.ts",
      "line": 59,
      "col": 49,
      "snippet": "const parsed = JSON.parse(deletedCountsJson) as unknown;",
      "context": "prev:try { | next:if (!parsed || typeof parsed !== \"object\" || Array.isArray(parsed)) {"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_f4f1bcfff226",
      "file": "src/component/pagination.ts",
      "line": 18,
      "col": 30,
      "snippet": "return JSON.parse(cursor) as T;",
      "context": "prev:try { | next:} catch (error) {"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_fa6f7396a01b",
      "file": "src/component/threads.ts",
      "line": 580,
      "col": 55,
      "snippet": "const parsed = JSON.parse(event.payloadJson) as { streamId?: unknown };",
      "context": "prev:try { | next:if (typeof parsed.streamId === \"string\") {"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_588e7c71b337",
      "file": "src/component/tokenUsage.ts",
      "line": 35,
      "col": 57,
      "snippet": "// (for example runtime placeholder turn ids). Treat as best-effort.",
      "context": "prev:// Token usage can arrive before the persisted turn record is available | next:if (!turn) {"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_8e3b4b49ea83",
      "file": "src/host/convexPersistence.ts",
      "line": 127,
      "col": 9,
      "snippet": "}) as Promise<{ threadId: string; externalThreadId?: string; created: boolean }>;",
      "context": "prev:...(args.cwd ? { cwd: args.cwd } : {}), | next:},"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_b79a3ac69397",
      "file": "src/host/convexPersistence.ts",
      "line": 136,
      "col": 9,
      "snippet": "}) as Promise<{ sessionId: string; threadId: string; status: \"created\" | \"active\" }>;",
      "context": "prev:threadId: args.threadId, | next:},"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_0511ea914b28",
      "file": "src/host/convexPersistence.ts",
      "line": 141,
      "col": 113,
      "snippet": "client.mutation(chatApi.ingestBatch, toIngestPayload(args.actor, sessionId, args.threadId, args.deltas)) as Promise<{",
      "context": "prev:const runIngest = async (sessionId: string) => | next:status: \"ok\" | \"partial\" | \"session_recovered\" | \"rejected\";"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_1753ffab9faf",
      "file": "src/host/convexPersistence.ts",
      "line": 180,
      "col": 35,
      "snippet": "const requestedAt = (request as { createdAt?: number }).createdAt;",
      "context": "prev:upsertPendingServerRequest: async ({ actor, request }) => { | next:await client.mutation(chatApi.upsertPendingServerRequest, {"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_18ee97430829",
      "file": "src/host/convexPersistence.ts",
      "line": 211,
      "col": 9,
      "snippet": "}) as Promise<HostRuntimePersistence[\"listPendingServerRequests\"] extends (...a: never[]) => infer R ? Awaited<R> : never>;",
      "context": "prev:limit: 100, | next:},"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_7ed65984e01e",
      "file": "src/host/convexPersistence.ts",
      "line": 222,
      "col": 9,
      "snippet": "}) as { dispatchId: string; turnId: string; accepted: true };",
      "context": "prev:...(args.dispatchId ? { dispatchId: args.dispatchId } : {}), | next:const claimToken = randomSessionId();"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_ff99fcd4a495",
      "file": "src/host/convexPreset.ts",
      "line": 283,
      "col": 16,
      "snippet": "[K in keyof M as M[K]]: K;",
      "context": "prev:type InvertAliasMap<M extends Record<string, string>> = { | next:};"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_fea2785bea88",
      "file": "src/host/convexPreset.ts",
      "line": 288,
      "col": 29,
      "snippet": "* If the public key appears as a value in the alias map, the corresponding",
      "context": "prev:* Resolve the internal (slice) key for a given public key. | next:* map key (the internal name) is returned; otherwise the public key itself"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_4ed27c54f9e9",
      "file": "src/host/convexPreset.ts",
      "line": 398,
      "col": 41,
      "snippet": "const typedDefinition = definition as RuntimeOwnedDefinitionWithActor<unknown>;",
      "context": "prev:Object.entries(defs.mutations).map(([name, definition]) => { | next:return ["
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_d26406877097",
      "file": "src/host/convexPreset.ts",
      "line": 410,
      "col": 4,
      "snippet": ") as unknown as RuntimeOwnedHostDefinitions[\"mutations\"];",
      "context": "prev:}), | next:const guardedQueries = Object.fromEntries("
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_6f07d956c6e7",
      "file": "src/host/convexPreset.ts",
      "line": 414,
      "col": 41,
      "snippet": "const typedDefinition = definition as RuntimeOwnedDefinitionWithActor<unknown>;",
      "context": "prev:Object.entries(defs.queries).map(([name, definition]) => { | next:return ["
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_82b61d560f27",
      "file": "src/host/convexPreset.ts",
      "line": 426,
      "col": 4,
      "snippet": ") as unknown as RuntimeOwnedHostDefinitions[\"queries\"];",
      "context": "prev:}), | next:return {"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_376526d89bdb",
      "file": "src/host/convexPreset.ts",
      "line": 539,
      "col": 31,
      "snippet": "mutations: pickedMutations as RuntimeOwnedHostDefinitions[\"mutations\"],",
      "context": "prev:profile: \"runtimeOwned\", | next:queries: pickedQueries as RuntimeOwnedHostDefinitions[\"queries\"],"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_01d798dcf7c8",
      "file": "src/host/convexPreset.ts",
      "line": 540,
      "col": 27,
      "snippet": "queries: pickedQueries as RuntimeOwnedHostDefinitions[\"queries\"],",
      "context": "prev:mutations: pickedMutations as RuntimeOwnedHostDefinitions[\"mutations\"], | next:};"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_79b8ee5b86af",
      "file": "src/host/convexPreset.ts",
      "line": 563,
      "col": 43,
      "snippet": "const mutationWrapper = options.mutation as (definition: unknown) => unknown;",
      "context": "prev:// 4. Wrap each definition with the supplied mutation/query constructors | next:const queryWrapper = options.query as (definition: unknown) => unknown;"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_740448ecda27",
      "file": "src/host/convexPreset.ts",
      "line": 564,
      "col": 37,
      "snippet": "const queryWrapper = options.query as (definition: unknown) => unknown;",
      "context": "prev:const mutationWrapper = options.mutation as (definition: unknown) => unknown; | next:const wrappedMutations = Object.fromEntries("
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_42544996781a",
      "file": "src/host/convexPreset.ts",
      "line": 571,
      "col": 4,
      "snippet": ") as WrappedDefinitionMap<RuntimeOwnedHostDefinitions[\"mutations\"], typeof options.mutation>;",
      "context": "prev:]), | next:const wrappedQueries = Object.fromEntries("
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_3403f94def4b",
      "file": "src/host/convexPreset.ts",
      "line": 578,
      "col": 4,
      "snippet": ") as WrappedDefinitionMap<RuntimeOwnedHostDefinitions[\"queries\"], typeof options.query>;",
      "context": "prev:]), | next:// Build the public-named defs for the escape hatch (unwrapped but aliased)"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_051e1cbbf76b",
      "file": "src/host/convexPreset.ts",
      "line": 583,
      "col": 34,
      "snippet": "mutations: publicMutationDefs as RuntimeOwnedHostDefinitions[\"mutations\"],",
      "context": "prev:profile: \"runtimeOwned\", | next:queries: publicQueryDefs as RuntimeOwnedHostDefinitions[\"queries\"],"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_1fa1e4b8ed05",
      "file": "src/host/convexPreset.ts",
      "line": 584,
      "col": 29,
      "snippet": "queries: publicQueryDefs as RuntimeOwnedHostDefinitions[\"queries\"],",
      "context": "prev:mutations: publicMutationDefs as RuntimeOwnedHostDefinitions[\"mutations\"], | next:};"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_4690fb6c9e57",
      "file": "src/host/convexPresetMutations.ts",
      "line": 7,
      "col": 16,
      "snippet": "ensureSession as ensureSessionHandler,",
      "context": "prev:import { | next:ensureThreadByResolve,"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_b7420ba788a0",
      "file": "src/host/convexSlice.ts",
      "line": 334,
      "col": 23,
      "snippet": "const record = value as Record<string, unknown>;",
      "context": "prev:} | next:return ("
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_04b0b409a61b",
      "file": "src/host/convexSlice.ts",
      "line": 346,
      "col": 29,
      "snippet": "const streamStats = (state as { streamStats?: unknown[] | null }).streamStats;",
      "context": "prev:} | next:return Array.isArray(streamStats) ? streamStats : null;"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_2a0ca5600914",
      "file": "src/host/convexSlice.ts",
      "line": 354,
      "col": 32,
      "snippet": "const recentMessages = (state as { recentMessages?: DurableHistoryMessage[] | null }).recentMessages;",
      "context": "prev:} | next:return Array.isArray(recentMessages) ? recentMessages : null;"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_b5a6cdf49ed2",
      "file": "src/host/convexSlice.ts",
      "line": 362,
      "col": 28,
      "snippet": "const allStreams = (state as { allStreams?: Array<{ streamId: string }> | null }).allStreams;",
      "context": "prev:} | next:return Array.isArray(allStreams) ? allStreams : null;"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_3184e187a07a",
      "file": "src/host/runtime.ts",
      "line": 84,
      "col": 59,
      "snippet": "const { ConvexHttpClient } = require(\"convex/browser\") as { ConvexHttpClient: new (url: string) => { mutation: (...a: unknown[]) => Promise<unknown>; query: (...a: unknown[]) => Promise<unknown> } };",
      "context": "prev:if (isConvexIntegrated(args)) { | next:const client = new ConvexHttpClient(args.convexUrl);"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_8815481c17f8",
      "file": "src/host/runtimeCore.ts",
      "line": 35,
      "col": 38,
      "snippet": "clearPendingServerRequestRetryTimer as clearRetryTimer,",
      "context": "prev:import { | next:enqueuePendingServerRequestRetry,"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_cd83c72121de",
      "file": "src/host/runtimeCore.ts",
      "line": 37,
      "col": 13,
      "snippet": "flushQueue as flushQueueHandler,",
      "context": "prev:enqueuePendingServerRequestRetry, | next:handleBridgeEvent as bridgeEventHandler,"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_773ee88d4b25",
      "file": "src/host/runtimeCore.ts",
      "line": 38,
      "col": 20,
      "snippet": "handleBridgeEvent as bridgeEventHandler,",
      "context": "prev:flushQueue as flushQueueHandler, | next:handleBridgeGlobalMessage as bridgeGlobalHandler,"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_40fa6f64523b",
      "file": "src/host/runtimeCore.ts",
      "line": 39,
      "col": 28,
      "snippet": "handleBridgeGlobalMessage as bridgeGlobalHandler,",
      "context": "prev:handleBridgeEvent as bridgeEventHandler, | next:type HandlerCtx,"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_dbf905eef66b",
      "file": "src/host/runtimeCoreHandlers.ts",
      "line": 196,
      "col": 21,
      "snippet": "const obj = parsed as Record<string, unknown>;",
      "context": "prev:if (typeof parsed !== \"object\" || parsed === null || !(\"method\" in parsed)) return null; | next:if (obj.method !== \"item/agentMessage/delta\") return null;"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_5eb57f922e25",
      "file": "src/host/runtimeCoreHandlers.ts",
      "line": 200,
      "col": 31,
      "snippet": "return { delta: params.delta as string, parsed: obj };",
      "context": "prev:if (!params || typeof params.delta !== \"string\") return null; | next:}"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_88e4eb0f4e16",
      "file": "src/host/runtimeHelpers.ts",
      "line": 37,
      "col": 62,
      "snippet": "return typeof value === \"object\" && value !== null ? (value as Record<string, unknown>) : null;",
      "context": "prev:export function asObject(value: unknown): Record<string, unknown> | null { | next:}"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_552f395a0796",
      "file": "src/host/tauri.ts",
      "line": 3,
      "col": 33,
      "snippet": "import type { LoginAccountParams as ProtocolLoginAccountParams } from \"../protocol/schemas/v2/LoginAccountParams.js\";",
      "context": "prev:import type { FileChangeApprovalDecision } from \"../protocol/schemas/v2/FileChangeApprovalDecision.js\"; | next:import type { ToolRequestUserInputAnswer } from \"../protocol/schemas/v2/ToolRequestUserInputAnswer.js\";"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_42e66eb43cb2",
      "file": "src/host/tauri.ts",
      "line": 212,
      "col": 34,
      "snippet": "const parsed = JSON.parse(line) as { type?: unknown; payload?: unknown };",
      "context": "prev:export function parseHelperCommand(line: string): HelperCommand { | next:if (typeof parsed !== \"object\" || parsed === null) {"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_55861db3a58c",
      "file": "src/host/tauri.ts",
      "line": 216,
      "col": 82,
      "snippet": "if (typeof parsed.type !== \"string\" || !HELPER_COMMAND_TYPE_SET.has(parsed.type as HelperCommandType)) {",
      "context": "prev:} | next:throw new Error(`Unsupported helper command: ${String(parsed.type)}`);"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_2a9aaee19f0f",
      "file": "src/host/tauri.ts",
      "line": 220,
      "col": 33,
      "snippet": "return { type: parsed.type } as HelperCommand;",
      "context": "prev:if (parsed.type === \"interrupt\" || parsed.type === \"stop\" || parsed.type === \"status\") { | next:}"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_5cf7482544d0",
      "file": "src/host/tauri.ts",
      "line": 225,
      "col": 16,
      "snippet": "return parsed as HelperCommand;",
      "context": "prev:} | next:}"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_242404ffb924",
      "file": "src/protocol/events.ts",
      "line": 96,
      "col": 14,
      "snippet": "return item as ThreadItem;",
      "context": "prev:} | next:}"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_8c118b97a0ad",
      "file": "src/protocol/events.ts",
      "line": 121,
      "col": 25,
      "snippet": "const message = parsed as ServerInboundMessage;",
      "context": "prev:} | next:payloadMessageCache.set(payloadJson, message);"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_e8a823cb640b",
      "file": "src/protocol/events.ts",
      "line": 139,
      "col": 17,
      "snippet": "return message as Extract<ServerInboundMessage, { method: M }>;",
      "context": "prev:} | next:}"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_f30747ee954f",
      "file": "src/protocol/events.ts",
      "line": 272,
      "col": 32,
      "snippet": "const params = message.params as Record<string, unknown>;",
      "context": "prev:} | next:if (typeof params.threadId === \"string\") {"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_e6d80c7c3075",
      "file": "src/protocol/events.ts",
      "line": 304,
      "col": 22,
      "snippet": "? (message.params as Record<string, unknown>)",
      "context": "prev:const params = isMessageRecord(message.params) | next:: null;"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_84e3c4ef1470",
      "file": "src/protocol/events.ts",
      "line": 476,
      "col": 22,
      "snippet": "? (message.params as Record<string, unknown>)",
      "context": "prev:const params = isMessageRecord(message.params) | next:: null;"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_a647c42c19d4",
      "file": "src/protocol/events.ts",
      "line": 607,
      "col": 24,
      "snippet": "? (message.params as Record<string, unknown>)",
      "context": "prev:const params = isMessageRecord(message.params) | next:: null;"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_b5e47f8bb29e",
      "file": "src/protocol/events.ts",
      "line": 629,
      "col": 24,
      "snippet": "? (message.params as Record<string, unknown>)",
      "context": "prev:const params = isMessageRecord(message.params) | next:: null;"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_35b45dd66381",
      "file": "src/protocol/parser.ts",
      "line": 21,
      "col": 62,
      "snippet": "return typeof value === \"object\" && value !== null ? (value as Record<string, unknown>) : null;",
      "context": "prev:function asObject(value: unknown): Record<string, unknown> | null { | next:}"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_7913992cad6c",
      "file": "src/protocol/parser.ts",
      "line": 29,
      "col": 26,
      "snippet": "return validator.errors as AjvError[] | null | undefined;",
      "context": "prev:function validatorErrors(validator: { errors?: unknown }): AjvError[] | null | undefined { | next:}"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_5bd159350c99",
      "file": "src/react/CodexProvider.tsx",
      "line": 33,
      "col": 26,
      "snippet": "actor: actor ?? ({} as Record<string, unknown>),",
      "context": "prev:() => ({ | next:listThreadMessages: api.listThreadMessages as CodexMessagesQuery<unknown>,"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_11ca16ccecc0",
      "file": "src/react/CodexProvider.tsx",
      "line": 34,
      "col": 49,
      "snippet": "listThreadMessages: api.listThreadMessages as CodexMessagesQuery<unknown>,",
      "context": "prev:actor: actor ?? ({} as Record<string, unknown>), | next:threadSnapshotSafe: api.threadSnapshotSafe as CodexThreadStateQuery<unknown, CodexThreadActivityThreadState>,"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_36656f39aaf4",
      "file": "src/react/CodexProvider.tsx",
      "line": 35,
      "col": 49,
      "snippet": "threadSnapshotSafe: api.threadSnapshotSafe as CodexThreadStateQuery<unknown, CodexThreadActivityThreadState>,",
      "context": "prev:listThreadMessages: api.listThreadMessages as CodexMessagesQuery<unknown>, | next:listPendingServerRequests: api.listPendingServerRequests,"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_03ec36eac762",
      "file": "src/react/dynamicTools.ts",
      "line": 43,
      "col": 62,
      "snippet": "return typeof value === \"object\" && value !== null ? (value as Record<string, unknown>) : null;",
      "context": "prev:function asObject(value: unknown): Record<string, unknown> | null { | next:}"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_254a05da1361",
      "file": "src/react/dynamicTools.ts",
      "line": 48,
      "col": 43,
      "snippet": "const parsed = JSON.parse(payloadJson) as unknown;",
      "context": "prev:try { | next:const root = asObject(parsed);"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_ad61feca714b",
      "file": "src/react/index.ts",
      "line": 30,
      "col": 3,
      "snippet": "// as a standalone hook. Type exports remain available below.",
      "context": "prev:// useCodexThreads is composed through useCodex({ threads }) — not exported | next:// ── Utilities ────────────────────────────────────────────────────────"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_6e58f1a11d8f",
      "file": "src/react/queryArgs.ts",
      "line": 12,
      "col": 20,
      "snippet": "return [\"skip\"] as OptionalRestArgsOrSkip<Query>;",
      "context": "prev:if (args === \"skip\") { | next:}"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_a0834e839500",
      "file": "src/react/queryArgs.ts",
      "line": 14,
      "col": 16,
      "snippet": "return [args] as OptionalRestArgsOrSkip<Query>;",
      "context": "prev:} | next:}"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_cf3a49d715fc",
      "file": "src/react/useCodex.ts",
      "line": 107,
      "col": 36,
      "snippet": "query: ctx.listThreadMessages as unknown as CodexThreadsListQuery,",
      "context": "prev:list: threadsConfig?.list ?? { | next:args: \"skip\","
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_f23ce2ebfb4a",
      "file": "src/react/useCodex.ts",
      "line": 129,
      "col": 57,
      "snippet": ": ({ actor: ctx.actor, threadId: effectiveThreadId } as never);",
      "context": "prev:? (\"skip\" as const) | next:const threadStateArgs = shouldSkip"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_bb05fc8a23e9",
      "file": "src/react/useCodex.ts",
      "line": 132,
      "col": 57,
      "snippet": ": ({ actor: ctx.actor, threadId: effectiveThreadId } as never);",
      "context": "prev:? (\"skip\" as const) | next:const chat = useCodexChat({"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_c407afe7abfa",
      "file": "src/react/useCodex.ts",
      "line": 156,
      "col": 27,
      "snippet": "ctx.threadSnapshotSafe as CodexThreadStateQuery<unknown, CodexThreadActivityThreadState>,",
      "context": "prev:const threadStateRaw = useCodexThreadState( | next:shouldSkip"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_d0342f55c65e",
      "file": "src/react/useCodex.ts",
      "line": 159,
      "col": 59,
      "snippet": ": ({ actor: ctx.actor, threadId: effectiveThreadId } as never),",
      "context": "prev:? \"skip\" | next:);"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_aa952a1d2a39",
      "file": "src/react/useCodex.ts",
      "line": 165,
      "col": 48,
      "snippet": "const tokenUsageQueryRef = ctx.listTokenUsage as CodexTokenUsageQuery<unknown> | undefined;",
      "context": "prev:// the CodexProvider, the query is skipped and tokenUsage is null. | next:const tokenUsageActive = !!tokenUsageQueryRef && !shouldSkip;"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_f97bfccaaa2f",
      "file": "src/react/useCodex.ts",
      "line": 168,
      "col": 57,
      "snippet": "? ({ actor: ctx.actor, threadId: effectiveThreadId } as never)",
      "context": "prev:const tokenUsageArgs = tokenUsageActive | next:: (\"skip\" as const);"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_8f90a4081363",
      "file": "src/react/useCodex.ts",
      "line": 171,
      "col": 47,
      "snippet": "// not configured we pass the messages query as a stand-in ref; the \"skip\"",
      "context": "prev:// useQuery must always be called (rules of hooks). When token usage is | next:// args ensure Convex never executes it."
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_629c7fc50d1e",
      "file": "src/react/useCodex.ts",
      "line": 174,
      "col": 51,
      "snippet": "(tokenUsageQueryRef ?? ctx.listThreadMessages) as CodexTokenUsageQuery<unknown>,",
      "context": "prev:const rawTokenTurns = useQuery( | next:...toOptionalRestArgsOrSkip<CodexTokenUsageQuery<unknown>>(tokenUsageArgs),"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_c59a40539f57",
      "file": "src/react/useCodex.ts",
      "line": 187,
      "col": 35,
      "snippet": "threadState: (threadStateRaw as CodexThreadActivityThreadState | undefined) ?? null,",
      "context": "prev:threads: threadsConfig ? threadsResult : null, | next:effectiveThreadId,"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_de3a2572b320",
      "file": "src/react/useCodexMessages.ts",
      "line": 15,
      "col": 50,
      "snippet": "const paginated = usePaginatedQuery(query, args as PaginatedQueryArgs<Query> | \"skip\", {",
      "context": "prev:): UsePaginatedQueryResult<CodexUIMessage> { | next:initialNumItems: options.initialNumItems,"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_a6c0333475d9",
      "file": "src/react/useCodexReasoning.ts",
      "line": 16,
      "col": 50,
      "snippet": "const paginated = usePaginatedQuery(query, args as PaginatedQueryArgs<Query> | \"skip\", {",
      "context": "prev:): UsePaginatedQueryResult<CodexReasoningSegmentLike> { | next:initialNumItems: options.initialNumItems,"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_f107f68caeeb",
      "file": "src/react/useCodexThreads.ts",
      "line": 73,
      "col": 69,
      "snippet": ": listed && typeof listed === \"object\" && \"threads\" in (listed as object)",
      "context": "prev:? listed | next:? ((listed as Record<string, unknown>).threads as unknown[] | undefined)"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_2fc913fb7f5b",
      "file": "src/react/useCodexThreads.ts",
      "line": 74,
      "col": 19,
      "snippet": "? ((listed as Record<string, unknown>).threads as unknown[] | undefined)",
      "context": "prev:: listed && typeof listed === \"object\" && \"threads\" in (listed as object) | next:: undefined;"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_176b7fcb62af",
      "file": "src/react/useCodexThreads.ts",
      "line": 83,
      "col": 28,
      "snippet": "\"threadId\" in (item as object) &&",
      "context": "prev:typeof item === \"object\" && | next:(item as { threadId: unknown }).threadId === selectedThreadId,"
    },
    {
      "description": "Legacy allowlisted cast; review as needed.",
      "userApproved": false,
      "riskLevel": "default",
      "id": "UC_be344c9f773f",
      "file": "src/react/useCodexThreads.ts",
      "line": 84,
      "col": 14,
      "snippet": "(item as { threadId: unknown }).threadId === selectedThreadId,",
      "context": "prev:\"threadId\" in (item as object) && | next:);"
    }
  ]
}
